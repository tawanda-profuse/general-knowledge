{"ast":null,"code":"import{useCallback,useEffect,useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import Navbar from\"../components/Navbar\";import Footer from\"../components/Footer\";import{useStoreState}from\"easy-peasy\";import{toast}from\"react-toastify\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Home=()=>{const userLanguage=useStoreState(state=>state.userLanguage);const[writingDirection,setWritingDirection]=useState(\"ltr\");const authKey=localStorage.getItem(\"jwt\");const navigate=useNavigate();const user=useStoreState(state=>state.user);const isTokenExpired=useCallback(token=>{const payloadBase64=token.split(\".\")[1];const decodedJson=atob(payloadBase64);const decoded=JSON.parse(decodedJson);const exp=decoded.exp;const now=Date.now().valueOf()/1000;return now>exp;},[]);useEffect(()=>{document.title=\"Khamco Shop Home\";const isLoggedIn=()=>{const token=authKey;return token!=null&&!isTokenExpired(token);};if(!isLoggedIn()){localStorage.clear();navigate(\"/users/login\");}if(!user){toast.warn(\"You are not authorized to access that resource.\");}const determineWritingDirection=()=>{if(userLanguage===\"ar\"||userLanguage===\"ur\"){setWritingDirection(\"rtl\");console.log(writingDirection);}};return()=>{determineWritingDirection();};},[isTokenExpired,authKey,navigate,userLanguage,writingDirection,user]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"main\",{className:\"p-4 w-[90%] m-auto font-minimoMedium\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Main Menu\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end gap-8 items-center mx-auto my-[3rem] w-full flex-wrap\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"User:\",\" \",/*#__PURE__*/_jsx(Link,{to:\"/users/my-dashboard/\".concat(user.id),className:\"text-center my-[2rem] mx-0 font-arial text-khamco-ribbon\",title:\"View my orders\",children:user.email})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center my-8 flex-wrap w-full\",dir:writingDirection,children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full grid grid-cols-1 md:grid-cols-3 gap-12 justify-center min-h-screen\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/customers\",className:\"flex flex-col items-center justify-center gap-2 p-8 rounded-3xl bg-[#0000ffcc] text-white text-lg hover:bg-[#0000ff]\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-users\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Customers\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/products\",className:\"flex flex-col items-center justify-center gap-2 p-8 rounded-3xl bg-[#0000ffcc] text-white text-lg hover:bg-[#0000ff]\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-box-archive\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Inventory\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/services\",className:\"flex flex-col items-center justify-center gap-2 p-8 rounded-3xl bg-[#0000ffcc] text-white text-lg hover:bg-[#0000ff]\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-shirt\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Services\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/invoices\",className:\"flex flex-col items-center justify-center gap-2 p-8 rounded-3xl bg-[#0000ffcc] text-white text-lg hover:bg-[#0000ff]\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-receipt\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Invoices\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/orders\",className:\"flex flex-col items-center justify-center gap-2 p-8 rounded-3xl bg-[#0000ffcc] text-white text-lg hover:bg-[#0000ff]\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-bookmark\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Orders\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/admin/dashboard\",className:\"flex flex-col items-center justify-center gap-2 p-8 rounded-3xl bg-[#0000ffcc] text-white text-lg hover:bg-[#0000ff]\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-ban\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Administration\"})]})]})})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default Home;","map":{"version":3,"names":["useCallback","useEffect","useState","Link","useNavigate","Navbar","Footer","useStoreState","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Home","userLanguage","state","writingDirection","setWritingDirection","authKey","localStorage","getItem","navigate","user","isTokenExpired","token","payloadBase64","split","decodedJson","atob","decoded","JSON","parse","exp","now","Date","valueOf","document","title","isLoggedIn","clear","warn","determineWritingDirection","console","log","children","className","to","concat","id","email","dir"],"sources":["C:/Users/TawandaMsengezi/Documents/Upwork/Osama-Client/Khamco Shop/Shop-1/client/src/pages/Home.jsx"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport Footer from \"../components/Footer\";\r\nimport { useStoreState } from \"easy-peasy\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst Home = () => {\r\n  const userLanguage = useStoreState((state) => state.userLanguage);\r\n  const [writingDirection, setWritingDirection] = useState(\"ltr\");\r\n  const authKey = localStorage.getItem(\"jwt\");\r\n  const navigate = useNavigate();\r\n  const user = useStoreState((state) => state.user);\r\n\r\n  const isTokenExpired = useCallback((token) => {\r\n    const payloadBase64 = token.split(\".\")[1];\r\n    const decodedJson = atob(payloadBase64);\r\n    const decoded = JSON.parse(decodedJson);\r\n    const exp = decoded.exp;\r\n    const now = Date.now().valueOf() / 1000;\r\n    return now > exp;\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    document.title = \"Khamco Shop Home\";\r\n\r\n    const isLoggedIn = () => {\r\n      const token = authKey;\r\n      return token != null && !isTokenExpired(token);\r\n    };\r\n\r\n    if (!isLoggedIn()) {\r\n      localStorage.clear();\r\n      navigate(\"/users/login\");\r\n    }\r\n\r\n    if (!user) {\r\n      toast.warn(\"You are not authorized to access that resource.\");\r\n    }\r\n\r\n    const determineWritingDirection = () => {\r\n      if (userLanguage === \"ar\" || userLanguage === \"ur\") {\r\n        setWritingDirection(\"rtl\");\r\n        console.log(writingDirection);\r\n      }\r\n    };\r\n\r\n    return () => {\r\n      determineWritingDirection();\r\n    };\r\n  }, [isTokenExpired, authKey, navigate, userLanguage, writingDirection, user]);\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <main className=\"p-4 w-[90%] m-auto font-minimoMedium\">\r\n        <h1 className=\"title\">Main Menu</h1>\r\n        <div className=\"flex justify-end gap-8 items-center mx-auto my-[3rem] w-full flex-wrap\">\r\n          <p>\r\n            User:{\" \"}\r\n            <Link\r\n              to={`/users/my-dashboard/${user.id}`}\r\n              className=\"text-center my-[2rem] mx-0 font-arial text-khamco-ribbon\"\r\n              title=\"View my orders\"\r\n            >\r\n              {user.email}\r\n            </Link>\r\n          </p>\r\n        </div>\r\n        <div\r\n          className=\"flex justify-center items-center my-8 flex-wrap w-full\"\r\n          dir={writingDirection}\r\n        >\r\n          <div className=\"w-full grid grid-cols-1 md:grid-cols-3 gap-12 justify-center min-h-screen\">\r\n            <Link\r\n              to=\"/customers\"\r\n              className=\"flex flex-col items-center justify-center gap-2 p-8 rounded-3xl bg-[#0000ffcc] text-white text-lg hover:bg-[#0000ff]\"\r\n            >\r\n              <i className=\"fas fa-users\"></i>\r\n              <p>Customers</p>\r\n            </Link>\r\n            <Link\r\n              to=\"/products\"\r\n              className=\"flex flex-col items-center justify-center gap-2 p-8 rounded-3xl bg-[#0000ffcc] text-white text-lg hover:bg-[#0000ff]\"\r\n            >\r\n              <i className=\"fas fa-box-archive\"></i>\r\n              <p>Inventory</p>\r\n            </Link>\r\n            <Link\r\n              to=\"/services\"\r\n              className=\"flex flex-col items-center justify-center gap-2 p-8 rounded-3xl bg-[#0000ffcc] text-white text-lg hover:bg-[#0000ff]\"\r\n            >\r\n              <i className=\"fas fa-shirt\"></i>\r\n              <p>Services</p>\r\n            </Link>\r\n            <Link\r\n              to=\"/invoices\"\r\n              className=\"flex flex-col items-center justify-center gap-2 p-8 rounded-3xl bg-[#0000ffcc] text-white text-lg hover:bg-[#0000ff]\"\r\n            >\r\n              <i className=\"fas fa-receipt\"></i>\r\n              <p>Invoices</p>\r\n            </Link>\r\n            <Link\r\n              to=\"/orders\"\r\n              className=\"flex flex-col items-center justify-center gap-2 p-8 rounded-3xl bg-[#0000ffcc] text-white text-lg hover:bg-[#0000ff]\"\r\n            >\r\n              <i className=\"fas fa-bookmark\"></i>\r\n              <p>Orders</p>\r\n            </Link>\r\n            <Link\r\n              to=\"/admin/dashboard\"\r\n              className=\"flex flex-col items-center justify-center gap-2 p-8 rounded-3xl bg-[#0000ffcc] text-white text-lg hover:bg-[#0000ff]\"\r\n            >\r\n              <i className=\"fas fa-ban\"></i>\r\n              <p>Administration</p>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </main>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
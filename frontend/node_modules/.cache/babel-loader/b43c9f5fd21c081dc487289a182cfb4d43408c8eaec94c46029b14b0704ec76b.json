{"ast":null,"code":"import{useEffect,useState}from\"react\";import axios from\"axios\";import{toast}from\"react-toastify\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const OrderForm=_ref=>{let{customerSurname,customerEmail,customerPhone,customerAddress,orderId,loading,setMeasurer,setCutter,setSewer,setOrderStatus,setOrderNotes}=_ref;const[users,setUsers]=useState([]);const devBaseUrl=\"http://localhost:5000\";const prodBaseUrl=\"https://www.khamcotailor.com\";const currentBaseUrl=window.location.hostname===\"localhost\"?devBaseUrl:prodBaseUrl;const apiURL=\"\".concat(currentBaseUrl,\"/api/customer-array\");const authKey=localStorage.getItem(\"jwt\");useEffect(()=>{const getAllUsers=async()=>{await axios.get(\"\".concat(currentBaseUrl,\"/admin/tailors\"),{headers:{Authorization:\"Bearer \".concat(authKey)}}).then(response=>{setUsers(response.data.users);}).catch(error=>{toast.error(error.message);});};getAllUsers();},[apiURL,authKey,currentBaseUrl,orderId]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"customer_surname\",children:\"Customer Surname\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Customer surname\",readOnly:true,defaultValue:customerSurname,className:\"cursor-not-allowed\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"customer_email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",readOnly:true,placeholder:\"Customer email\",defaultValue:customerEmail,className:\"cursor-not-allowed\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"customer_phone\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",readOnly:true,placeholder:\"Customer phone number\",defaultValue:customerPhone,className:\"cursor-not-allowed\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"customer_address\",children:\"Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Customer address\",readOnly:true,defaultValue:customerAddress,className:\"cursor-not-allowed\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Measurer\"}),/*#__PURE__*/_jsx(\"select\",{onChange:e=>setMeasurer(e.target.value),children:users.map((user,index)=>/*#__PURE__*/_jsx(\"option\",{label:\"\".concat(user.name,\" \").concat(user.surname),value:\"\".concat(user.name,\" \").concat(user.surname)},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Cutter\"}),/*#__PURE__*/_jsx(\"select\",{onChange:e=>setCutter(e.target.value),children:users.map((user,index)=>/*#__PURE__*/_jsx(\"option\",{label:\"\".concat(user.name,\" \").concat(user.surname),value:\"\".concat(user.name,\" \").concat(user.surname)},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Sewer\"}),/*#__PURE__*/_jsx(\"select\",{onChange:e=>setSewer(e.target.value),children:users.map((user,index)=>/*#__PURE__*/_jsx(\"option\",{label:\"\".concat(user.name,\" \").concat(user.surname),value:\"\".concat(user.name,\" \").concat(user.surname)},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Order Status\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:e=>setOrderStatus(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{label:\"-- Select order status --\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Accepted\",label:\"Accepted\"}),/*#__PURE__*/_jsx(\"option\",{value:\"In Progress\",label:\"In Progress\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Complete\",label:\"Complete\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Awaiting Delivery\",label:\"Awaiting Delivery\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Delivered\",label:\"Delivered\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"order_start_time\",children:\"Order Start Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",name:\"order_start_time\",id:\"order_start_time\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Other Details\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Optional notes\",onChange:e=>setOrderNotes(e.target.value)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,children:loading?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner animate-spin\"}):\"Submit\"})})]});};export default OrderForm;","map":{"version":3,"names":["useEffect","useState","axios","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","OrderForm","_ref","customerSurname","customerEmail","customerPhone","customerAddress","orderId","loading","setMeasurer","setCutter","setSewer","setOrderStatus","setOrderNotes","users","setUsers","devBaseUrl","prodBaseUrl","currentBaseUrl","window","location","hostname","apiURL","concat","authKey","localStorage","getItem","getAllUsers","get","headers","Authorization","then","response","data","catch","error","message","children","className","htmlFor","type","placeholder","readOnly","defaultValue","onChange","e","target","value","map","user","index","label","name","surname","id","disabled"],"sources":["C:/Users/TawandaMsengezi/Documents/Upwork/Osama-Client/Khamco Shop/Shop-1/client/src/pages/orders/OrderForm.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst OrderForm = ({\r\n  customerSurname,\r\n  customerEmail,\r\n  customerPhone,\r\n  customerAddress,\r\n  orderId,\r\n  loading,\r\n  setMeasurer,\r\n  setCutter,\r\n  setSewer,\r\n  setOrderStatus,\r\n  setOrderNotes,\r\n}) => {\r\n  const [users, setUsers] = useState([]);\r\n  const devBaseUrl = \"http://localhost:5000\";\r\n  const prodBaseUrl = \"https://www.khamcotailor.com\";\r\n  const currentBaseUrl =\r\n    window.location.hostname === \"localhost\" ? devBaseUrl : prodBaseUrl;\r\n  const apiURL = `${currentBaseUrl}/api/customer-array`;\r\n  const authKey = localStorage.getItem(\"jwt\");\r\n\r\n  useEffect(() => {\r\n    const getAllUsers = async () => {\r\n      await axios\r\n        .get(`${currentBaseUrl}/admin/tailors`, {\r\n          headers: { Authorization: `Bearer ${authKey}` },\r\n        })\r\n        .then((response) => {\r\n          setUsers(response.data.users);\r\n        })\r\n        .catch((error) => {\r\n          toast.error(error.message);\r\n        });\r\n    };\r\n\r\n    getAllUsers();\r\n  }, [apiURL, authKey, currentBaseUrl, orderId]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"form-row\">\r\n        <label htmlFor=\"customer_surname\">Customer Surname</label>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Customer surname\"\r\n          readOnly\r\n          defaultValue={customerSurname}\r\n          className=\"cursor-not-allowed\"\r\n        />\r\n      </div>\r\n      <div className=\"form-row\">\r\n        <label htmlFor=\"customer_email\">Email</label>\r\n        <input\r\n          type=\"email\"\r\n          readOnly\r\n          placeholder=\"Customer email\"\r\n          defaultValue={customerEmail}\r\n          className=\"cursor-not-allowed\"\r\n        />\r\n      </div>\r\n      <div className=\"form-row\">\r\n        <label htmlFor=\"customer_phone\">Phone Number</label>\r\n        <input\r\n          type=\"tel\"\r\n          readOnly\r\n          placeholder=\"Customer phone number\"\r\n          defaultValue={customerPhone}\r\n          className=\"cursor-not-allowed\"\r\n        />\r\n      </div>\r\n      <div className=\"form-row\">\r\n        <label htmlFor=\"customer_address\">Address</label>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Customer address\"\r\n          readOnly\r\n          defaultValue={customerAddress}\r\n          className=\"cursor-not-allowed\"\r\n        />\r\n      </div>\r\n      <div className=\"form-row\">\r\n        <label>Measurer</label>\r\n        <select onChange={(e) => setMeasurer(e.target.value)}>\r\n          {users.map((user, index) => (\r\n            <option\r\n              key={index}\r\n              label={`${user.name} ${user.surname}`}\r\n              value={`${user.name} ${user.surname}`}\r\n            ></option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      <div className=\"form-row\">\r\n        <label>Cutter</label>\r\n        <select onChange={(e) => setCutter(e.target.value)}>\r\n          {users.map((user, index) => (\r\n            <option\r\n              key={index}\r\n              label={`${user.name} ${user.surname}`}\r\n              value={`${user.name} ${user.surname}`}\r\n            ></option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      <div className=\"form-row\">\r\n        <label>Sewer</label>\r\n        <select onChange={(e) => setSewer(e.target.value)}>\r\n          {users.map((user, index) => (\r\n            <option\r\n              key={index}\r\n              label={`${user.name} ${user.surname}`}\r\n              value={`${user.name} ${user.surname}`}\r\n            ></option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      <div className=\"form-row\">\r\n        <label>Order Status</label>\r\n        <select onChange={(e) => setOrderStatus(e.target.value)}>\r\n          <option label=\"-- Select order status --\"></option>\r\n          <option value=\"Accepted\" label=\"Accepted\"></option>\r\n          <option value=\"In Progress\" label=\"In Progress\"></option>\r\n          <option value=\"Complete\" label=\"Complete\"></option>\r\n          <option value=\"Awaiting Delivery\" label=\"Awaiting Delivery\"></option>\r\n          <option value=\"Delivered\" label=\"Delivered\"></option>\r\n        </select>\r\n      </div>\r\n      <div className=\"form-row\">\r\n        <label htmlFor=\"order_start_time\">Order Start Date</label>\r\n        <input\r\n          type=\"datetime-local\"\r\n          name=\"order_start_time\"\r\n          id=\"order_start_time\"\r\n        />\r\n      </div>\r\n      <div className=\"form-row\">\r\n        <label>Other Details</label>\r\n        <textarea\r\n          placeholder=\"Optional notes\"\r\n          onChange={(e) => setOrderNotes(e.target.value)}\r\n        ></textarea>\r\n      </div>\r\n      <div className=\"form-row\">\r\n        <button type=\"submit\" disabled={loading}>\r\n          {loading ? <i className=\"fas fa-spinner animate-spin\"></i> : \"Submit\"}\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OrderForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import{useEffect,useState}from\"react\";import Footer from\"../../components/Footer\";import Navbar from\"../../components/Navbar\";import OrderForm from\"./OrderForm\";import{Link,useNavigate,useParams}from\"react-router-dom\";import axios from\"axios\";import{toast}from\"react-toastify\";import{useStoreState}from\"easy-peasy\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const NewOrder=()=>{const{id}=useParams();const[writingDirection,setWritingDirection]=useState(\"ltr\");const[order,setOrder]=useState([]);const[products,setProducts]=useState([]);const[services,setServices]=useState([]);const[customers,setCustomers]=useState([]);const[orderName,setOrderName]=useState([]);const[dependentName,setDependentName]=useState(\"\");const[customerName,setCustomerName]=useState(\"\");const[customerSurname,setCustomerSurname]=useState(\"\");const[customerEmail,setCustomerEmail]=useState(\"\");const[customerPhone,setCustomerPhone]=useState(\"\");const[customerDependents,setCustomerDependents]=useState([]);const[customerAddress,setCustomerAddress]=useState([]);const[measurer,setMeasurer]=useState(\"\");const[cutter,setCutter]=useState(\"\");const[sewer,setSewer]=useState(\"\");const[orderStatus,setOrderStatus]=useState(\"\");const[orderNotes,setOrderNotes]=useState(\"\");const apiUrl=window.location.origin.includes(\"localhost\")?\"http://localhost:5000\":\"https://khamco-shop-backend.onrender.com\";const authKey=localStorage.getItem(\"jwt\");const[loading,setLoading]=useState(false);const navigate=useNavigate();const userLanguage=useStoreState(state=>state.userLanguage);useEffect(()=>{let isMounted=true;document.title=\"New Order - Khamco Shop\";const fetchOrderDetails=async()=>{try{const response=await axios.get(\"\".concat(apiUrl,\"/orders/create/new-order/\").concat(id),{headers:{Authorization:\"Bearer \".concat(authKey)}});setOrder(response.data.order);setCustomers(response.data.customers);setProducts(response.data.products);setServices(response.data.services);}catch(error){if(isMounted){var _error$response,_error$response$data;toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||error.message);console.error(error.message);}}};fetchOrderDetails();const determineWritingDirection=()=>{if(userLanguage===\"ar\"||userLanguage===\"ur\"){setWritingDirection(\"rtl\");}};determineWritingDirection();return()=>{isMounted=false;};},[apiUrl,authKey,id,userLanguage]);const createOrderName=async e=>{e.preventDefault();setLoading(true);if(!orderName){setLoading(false);toast.warn(\"Please select a value\");return;}await axios.put(\"\".concat(apiUrl,\"/orders/\").concat(id,\"/name\"),{order_name:orderName},{headers:{Authorization:\"Bearer \".concat(authKey)}}).then(response=>{setOrder(response.data.order);setCustomers(response.data.customers);setProducts(response.data.products);setServices(response.data.services);setLoading(false);}).catch(error=>{var _error$response2,_error$response2$data;setLoading(false);toast.error(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||error.message);console.error(error.message);});};const deleteOrderName=async(e,orderId,nameId)=>{e.preventDefault();setLoading(true);try{const response=await axios.delete(\"\".concat(apiUrl,\"/orders/\").concat(orderId,\"/names/\").concat(nameId),{headers:{Authorization:\"Bearer \".concat(authKey)}});setOrder(response.data.order);setLoading(false);}catch(error){var _error$response3,_error$response3$data;setLoading(false);toast.error(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||error.message);}};const addDependent=async e=>{e.preventDefault();setLoading(true);if(!dependentName){toast.warn(\"Please select a dependent from the list\");setLoading(false);return;}await axios.put(\"\".concat(apiUrl,\"/orders/\").concat(id,\"/dependents\"),{dependent_name:dependentName,customer_name:customerName,customer_surname:customerSurname},{headers:{Authorization:\"Bearer \".concat(authKey)}}).then(response=>{setOrder(response.data.order);setCustomers(response.data.customers);setProducts(response.data.products);setServices(response.data.services);setLoading(false);}).catch(()=>{setLoading(false);toast.error(\"Error updating the order.\");});};const handleChange=async e=>{const selectedOption=e.target.options[e.target.selectedIndex];setCustomerSurname(selectedOption.dataset.surname);setCustomerEmail(selectedOption.dataset.email);setCustomerPhone(selectedOption.dataset.phone);setCustomerAddress(selectedOption.dataset.address);setCustomerName(selectedOption.value);setCustomerDependents((e.target.value=customers.find(customer=>customer.name===e.target.value)).dependents);};const deleteEntireOrder=async()=>{setLoading(true);try{const response=await axios.delete(\"\".concat(apiUrl,\"/orders/\").concat(order._id),{headers:{Authorization:\"Bearer \".concat(authKey)}});toast.success(response.data.message);setLoading(false);navigate(\"/orders\");}catch(error){var _error$response4,_error$response4$data;setLoading(false);toast.error(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.message)||error.message);}};const deleteDependent=async(e,orderId,customerId)=>{e.preventDefault();setLoading(true);try{const response=await axios.delete(\"\".concat(apiUrl,\"/orders/\").concat(orderId,\"/dependents/\").concat(customerId),{headers:{Authorization:\"Bearer \".concat(authKey)}});setOrder(response.data.order);setLoading(false);}catch(error){var _error$response5,_error$response5$data;setLoading(false);toast.error(((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.message)||error.message);}};const handleSubmit=async e=>{e.preventDefault();if(!orderStatus){toast.warn(\"The order status is required.\");return;}if(!customerName){toast.warn(\"Please select a customer\");return;}if(!orderName){toast.warn(\"Please select a product or service from the list\");return;}setLoading(true);await axios.put(\"\".concat(apiUrl,\"/orders/\").concat(order._id),{order_name:orderName,dependent_name:dependentName,order_start_time:new Date(),customer_name:customerName,customer_surname:customerSurname,customer_email:customerEmail,customer_phone:customerPhone,customer_address:customerAddress,measurer:measurer,cutter:cutter,sewer:sewer,order_status:orderStatus,order_notes:orderNotes},{headers:{Authorization:\"Bearer \".concat(authKey)}}).then(response=>{toast.success(response.data.message);window.location.replace(\"/orders/\".concat(response.data.order._id));}).catch(error=>{var _error$response6,_error$response6$data;toast.error(((_error$response6=error.response)===null||_error$response6===void 0?void 0:(_error$response6$data=_error$response6.data)===null||_error$response6$data===void 0?void 0:_error$response6$data.message)||error.message);setLoading(false);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"main\",{className:\"p-[4rem]\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"p-[4rem] grid justify-center items-center relative\",dir:writingDirection,children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(Link,{to:\"/orders\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-left\"}),\" Orders\"]})}),/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"New Order\"}),/*#__PURE__*/_jsx(\"form\",{className:\"flex flex-col justify-center items-center w-[90vw]\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-[1rem] w-full justify-start flex-wrap\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"w-[85%]\",onChange:e=>setOrderName(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{label:\"-- Select a Product --\"}),products.map((product,index)=>/*#__PURE__*/_jsx(\"option\",{value:product.name,label:product.name},index)),/*#__PURE__*/_jsx(\"option\",{label:\"-- Select a Service --\",disabled:true}),services.map((service,index)=>/*#__PURE__*/_jsx(\"option\",{value:service.service,label:service.service},index))]}),/*#__PURE__*/_jsx(\"button\",{onClick:createOrderName,className:\"edit-btn\",title:\"Add another item\",disabled:loading,children:loading?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner animate-spin\"}):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-center text-2xl\",children:\"Order Details\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t-2 border-b-2 border-black my-[2rem]\",children:order.name&&order.name.length>0?order.name.map((item,index)=>/*#__PURE__*/_jsx(\"form\",{className:\"flex flex-col justify-center items-center w-[90vw]\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-[1rem] w-full justify-start flex-wrap items-center border-b-[0.1rem] border-[gray] hover:bg-[#ccc]\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"w-[85%]\",children:item.choice}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"delete-btn width-[10%]\",title:\"Remove this item\",onClick:e=>deleteOrderName(e,order._id,item._id),disabled:loading,children:loading?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner animate-spin\"}):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-minus\"})})]})})},index)):/*#__PURE__*/_jsx(\"p\",{className:\"text-center my-[2rem] animate-pulse text-lg text-[orangered]\",children:\"Nothing here yet...\"})}),/*#__PURE__*/_jsxs(\"form\",{className:\"flex flex-col justify-center items-center w-[90vw]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Customer Name\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-full justify-between flex-wrap\",children:[/*#__PURE__*/_jsxs(\"select\",{onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{label:\"-- Select customer --\"}),customers&&customers.map((customer,index)=>/*#__PURE__*/_jsx(\"option\",{value:customer.name,label:customer.name,\"data-surname\":customer.surname,\"data-email\":customer.email,\"data-phone\":customer.phone,\"data-address\":customer.address},index))]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Customer Name\",className:\"cursor-not-allowed\",defaultValue:customerName,readOnly:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Dependent Name\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-[1rem] w-full justify-start flex-wrap\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"w-[85%]\",onChange:e=>setDependentName(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{label:\"-- Select a dependent --\"}),customerDependents&&customerDependents.map((customer,index)=>/*#__PURE__*/_jsx(\"option\",{children:customer.name},index))]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"edit-btn w-[10%]\",title:\"Add dependent to the list\",onClick:addDependent,children:loading?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner animate-spin\"}):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"})})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-center text-2xl\",children:\"List of Dependents\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t-2 border-b-2 border-black my-[2rem]\",children:order.customers&&order.customers.length>0?order.customers.map((customer,index)=>/*#__PURE__*/_jsx(\"form\",{className:\"flex flex-col justify-center items-center w-[90vw]\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-[1rem] w-full justify-start flex-wrap\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"border-b-[0.1rem] border-b-gray-400 pb-[0.5rem] w-[85%]\",children:customer.customer_name},index),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"delete-btn w-[10%]\",title:\"Remove this item\",onClick:e=>deleteDependent(e,order._id,customer._id),children:loading?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner animate-spin\"}):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-minus\"})})]})})})):/*#__PURE__*/_jsx(\"p\",{className:\"text-center my-[2rem] animate-pulse text-lg text-[orangered]\",children:\"Nothing here yet...\"})}),/*#__PURE__*/_jsx(\"form\",{className:\"flex flex-col justify-center items-center w-[90vw]\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsx(OrderForm,{customerName:customerName,customerSurname:customerSurname,customerEmail:customerEmail,customerPhone:customerPhone,customerAddress:customerAddress,orderId:id,loading:loading,setMeasurer:setMeasurer,setCutter:setCutter,setSewer:setSewer,setOrderStatus:setOrderStatus,setOrderNotes:setOrderNotes})}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-[red] py-[0.5rem] px-[1rem] fixed top-[50%] rounded-full text-[1.5rem] text-white hover:rotate-12 transition-all\",disabled:loading,onClick:deleteEntireOrder,title:\"Delete this order\",children:loading?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner animate-spin\"}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash-can\"})})})]})}),/*#__PURE__*/_jsx(Footer,{})]});};export default NewOrder;","map":{"version":3,"names":["useEffect","useState","Footer","Navbar","OrderForm","Link","useNavigate","useParams","axios","toast","useStoreState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NewOrder","id","writingDirection","setWritingDirection","order","setOrder","products","setProducts","services","setServices","customers","setCustomers","orderName","setOrderName","dependentName","setDependentName","customerName","setCustomerName","customerSurname","setCustomerSurname","customerEmail","setCustomerEmail","customerPhone","setCustomerPhone","customerDependents","setCustomerDependents","customerAddress","setCustomerAddress","measurer","setMeasurer","cutter","setCutter","sewer","setSewer","orderStatus","setOrderStatus","orderNotes","setOrderNotes","apiUrl","window","location","origin","includes","authKey","localStorage","getItem","loading","setLoading","navigate","userLanguage","state","isMounted","document","title","fetchOrderDetails","response","get","concat","headers","Authorization","data","error","_error$response","_error$response$data","message","console","determineWritingDirection","createOrderName","e","preventDefault","warn","put","order_name","then","catch","_error$response2","_error$response2$data","deleteOrderName","orderId","nameId","delete","_error$response3","_error$response3$data","addDependent","dependent_name","customer_name","customer_surname","handleChange","selectedOption","target","options","selectedIndex","dataset","surname","email","phone","address","value","find","customer","name","dependents","deleteEntireOrder","_id","success","_error$response4","_error$response4$data","deleteDependent","customerId","_error$response5","_error$response5$data","handleSubmit","order_start_time","Date","customer_email","customer_phone","customer_address","order_status","order_notes","replace","_error$response6","_error$response6$data","children","className","dir","to","onChange","label","map","product","index","disabled","service","onClick","length","item","choice","type","placeholder","defaultValue","readOnly","onSubmit"],"sources":["C:/Users/TawandaMsengezi/Documents/Upwork/Osama-Client/Khamco Shop/Shop-1/client/src/pages/orders/NewOrder.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport Footer from \"../../components/Footer\";\r\nimport Navbar from \"../../components/Navbar\";\r\nimport OrderForm from \"./OrderForm\";\r\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useStoreState } from \"easy-peasy\";\r\n\r\nconst NewOrder = () => {\r\n  const { id } = useParams();\r\n  const [writingDirection, setWritingDirection] = useState(\"ltr\");\r\n  const [order, setOrder] = useState([]);\r\n  const [products, setProducts] = useState([]);\r\n  const [services, setServices] = useState([]);\r\n  const [customers, setCustomers] = useState([]);\r\n  const [orderName, setOrderName] = useState([]);\r\n  const [dependentName, setDependentName] = useState(\"\");\r\n  const [customerName, setCustomerName] = useState(\"\");\r\n  const [customerSurname, setCustomerSurname] = useState(\"\");\r\n  const [customerEmail, setCustomerEmail] = useState(\"\");\r\n  const [customerPhone, setCustomerPhone] = useState(\"\");\r\n  const [customerDependents, setCustomerDependents] = useState([]);\r\n  const [customerAddress, setCustomerAddress] = useState([]);\r\n  const [measurer, setMeasurer] = useState(\"\");\r\n  const [cutter, setCutter] = useState(\"\");\r\n  const [sewer, setSewer] = useState(\"\");\r\n  const [orderStatus, setOrderStatus] = useState(\"\");\r\n  const [orderNotes, setOrderNotes] = useState(\"\");\r\n  const apiUrl = window.location.origin.includes(\"localhost\")\r\n    ? `http://localhost:5000`\r\n    : `https://khamco-shop-backend.onrender.com`;\r\n  const authKey = localStorage.getItem(\"jwt\");\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n  const userLanguage = useStoreState((state) => state.userLanguage);\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n\r\n    document.title = \"New Order - Khamco Shop\";\r\n\r\n    const fetchOrderDetails = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          `${apiUrl}/orders/create/new-order/${id}`,\r\n          {\r\n            headers: { Authorization: `Bearer ${authKey}` },\r\n          }\r\n        );\r\n        setOrder(response.data.order);\r\n        setCustomers(response.data.customers);\r\n        setProducts(response.data.products);\r\n        setServices(response.data.services);\r\n      } catch (error) {\r\n        if (isMounted) {\r\n          toast.error(error.response?.data?.message || error.message);\r\n          console.error(error.message);\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchOrderDetails();\r\n\r\n    const determineWritingDirection = () => {\r\n      if (userLanguage === \"ar\" || userLanguage === \"ur\") {\r\n        setWritingDirection(\"rtl\");\r\n      }\r\n    };\r\n    determineWritingDirection();\r\n\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, [apiUrl, authKey, id, userLanguage]);\r\n\r\n  const createOrderName = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    if (!orderName) {\r\n      setLoading(false);\r\n      toast.warn(\"Please select a value\");\r\n      return;\r\n    }\r\n    await axios\r\n      .put(\r\n        `${apiUrl}/orders/${id}/name`,\r\n        {\r\n          order_name: orderName,\r\n        },\r\n        {\r\n          headers: { Authorization: `Bearer ${authKey}` },\r\n        }\r\n      )\r\n      .then((response) => {\r\n        setOrder(response.data.order);\r\n        setCustomers(response.data.customers);\r\n        setProducts(response.data.products);\r\n        setServices(response.data.services);\r\n        setLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        setLoading(false);\r\n        toast.error(error.response?.data?.message || error.message);\r\n        console.error(error.message);\r\n      });\r\n  };\r\n\r\n  const deleteOrderName = async (e, orderId, nameId) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.delete(\r\n        `${apiUrl}/orders/${orderId}/names/${nameId}`,\r\n        {\r\n          headers: { Authorization: `Bearer ${authKey}` },\r\n        }\r\n      );\r\n      setOrder(response.data.order);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      toast.error(error.response?.data?.message || error.message);\r\n    }\r\n  };\r\n\r\n  const addDependent = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    if (!dependentName) {\r\n      toast.warn(\"Please select a dependent from the list\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    await axios\r\n      .put(\r\n        `${apiUrl}/orders/${id}/dependents`,\r\n        {\r\n          dependent_name: dependentName,\r\n          customer_name: customerName,\r\n          customer_surname: customerSurname,\r\n        },\r\n        {\r\n          headers: { Authorization: `Bearer ${authKey}` },\r\n        }\r\n      )\r\n      .then((response) => {\r\n        setOrder(response.data.order);\r\n        setCustomers(response.data.customers);\r\n        setProducts(response.data.products);\r\n        setServices(response.data.services);\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        setLoading(false);\r\n        toast.error(\"Error updating the order.\");\r\n      });\r\n  };\r\n\r\n  const handleChange = async (e) => {\r\n    const selectedOption = e.target.options[e.target.selectedIndex];\r\n    setCustomerSurname(selectedOption.dataset.surname);\r\n    setCustomerEmail(selectedOption.dataset.email);\r\n    setCustomerPhone(selectedOption.dataset.phone);\r\n    setCustomerAddress(selectedOption.dataset.address);\r\n    setCustomerName(selectedOption.value);\r\n    setCustomerDependents(\r\n      (e.target.value = customers.find(\r\n        (customer) => customer.name === e.target.value\r\n      )).dependents\r\n    );\r\n  };\r\n\r\n  const deleteEntireOrder = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.delete(`${apiUrl}/orders/${order._id}`, {\r\n        headers: { Authorization: `Bearer ${authKey}` },\r\n      });\r\n      toast.success(response.data.message);\r\n      setLoading(false);\r\n      navigate(\"/orders\");\r\n    } catch (error) {\r\n      setLoading(false);\r\n      toast.error(error.response?.data?.message || error.message);\r\n    }\r\n  };\r\n\r\n  const deleteDependent = async (e, orderId, customerId) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.delete(\r\n        `${apiUrl}/orders/${orderId}/dependents/${customerId}`,\r\n        {\r\n          headers: { Authorization: `Bearer ${authKey}` },\r\n        }\r\n      );\r\n      setOrder(response.data.order);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      toast.error(error.response?.data?.message || error.message);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!orderStatus) {\r\n      toast.warn(\"The order status is required.\");\r\n      return;\r\n    }\r\n\r\n    if (!customerName) {\r\n      toast.warn(\"Please select a customer\");\r\n      return;\r\n    }\r\n\r\n    if (!orderName) {\r\n      toast.warn(\"Please select a product or service from the list\");\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    await axios\r\n      .put(\r\n        `${apiUrl}/orders/${order._id}`,\r\n        {\r\n          order_name: orderName,\r\n          dependent_name: dependentName,\r\n          order_start_time: new Date(),\r\n          customer_name: customerName,\r\n          customer_surname: customerSurname,\r\n          customer_email: customerEmail,\r\n          customer_phone: customerPhone,\r\n          customer_address: customerAddress,\r\n          measurer: measurer,\r\n          cutter: cutter,\r\n          sewer: sewer,\r\n          order_status: orderStatus,\r\n          order_notes: orderNotes,\r\n        },\r\n        {\r\n          headers: { Authorization: `Bearer ${authKey}` },\r\n        }\r\n      )\r\n      .then((response) => {\r\n        toast.success(response.data.message);\r\n        window.location.replace(`/orders/${response.data.order._id}`);\r\n      })\r\n      .catch((error) => {\r\n        toast.error(error.response?.data?.message || error.message);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <main className=\"p-[4rem]\">\r\n        <section\r\n          className=\"p-[4rem] grid justify-center items-center relative\"\r\n          dir={writingDirection}\r\n        >\r\n          <div className=\"row\">\r\n            <Link to=\"/orders\">\r\n              <i className=\"fas fa-arrow-left\"></i> Orders\r\n            </Link>\r\n          </div>\r\n          <h1 className=\"title\">New Order</h1>\r\n          <form className=\"flex flex-col justify-center items-center w-[90vw]\">\r\n            <div className=\"form-row\">\r\n              <div className=\"flex gap-[1rem] w-full justify-start flex-wrap\">\r\n                <select\r\n                  className=\"w-[85%]\"\r\n                  onChange={(e) => setOrderName(e.target.value)}\r\n                >\r\n                  <option label=\"-- Select a Product --\"></option>\r\n                  {products.map((product, index) => (\r\n                    <option\r\n                      key={index}\r\n                      value={product.name}\r\n                      label={product.name}\r\n                    ></option>\r\n                  ))}\r\n                  <option label=\"-- Select a Service --\" disabled></option>\r\n                  {services.map((service, index) => (\r\n                    <option\r\n                      key={index}\r\n                      value={service.service}\r\n                      label={service.service}\r\n                    ></option>\r\n                  ))}\r\n                </select>\r\n                <button\r\n                  onClick={createOrderName}\r\n                  className=\"edit-btn\"\r\n                  title=\"Add another item\"\r\n                  disabled={loading}\r\n                >\r\n                  {loading ? (\r\n                    <i className=\"fas fa-spinner animate-spin\"></i>\r\n                  ) : (\r\n                    <i className=\"fas fa-plus\"></i>\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n          <div className=\"form-row\">\r\n            <h1 className=\"text-center text-2xl\">Order Details</h1>\r\n          </div>\r\n          <div className=\"border-t-2 border-b-2 border-black my-[2rem]\">\r\n            {order.name && order.name.length > 0 ? (\r\n              order.name.map((item, index) => (\r\n                <form\r\n                  className=\"flex flex-col justify-center items-center w-[90vw]\"\r\n                  key={index}\r\n                >\r\n                  <div className=\"form-row\">\r\n                    <div className=\"flex gap-[1rem] w-full justify-start flex-wrap items-center border-b-[0.1rem] border-[gray] hover:bg-[#ccc]\">\r\n                      <label className=\"w-[85%]\">{item.choice}</label>\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"delete-btn width-[10%]\"\r\n                        title=\"Remove this item\"\r\n                        onClick={(e) => deleteOrderName(e, order._id, item._id)}\r\n                        disabled={loading}\r\n                      >\r\n                        {loading ? (\r\n                          <i className=\"fas fa-spinner animate-spin\"></i>\r\n                        ) : (\r\n                          <i className=\"fas fa-minus\"></i>\r\n                        )}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n              ))\r\n            ) : (\r\n              <p className=\"text-center my-[2rem] animate-pulse text-lg text-[orangered]\">\r\n                Nothing here yet...\r\n              </p>\r\n            )}\r\n          </div>\r\n          <form className=\"flex flex-col justify-center items-center w-[90vw]\">\r\n            <div className=\"form-row\">\r\n              <label>Customer Name</label>\r\n              <div className=\"flex w-full justify-between flex-wrap\">\r\n                <select onChange={handleChange}>\r\n                  <option label=\"-- Select customer --\"></option>\r\n                  {customers &&\r\n                    customers.map((customer, index) => (\r\n                      <option\r\n                        key={index}\r\n                        value={customer.name}\r\n                        label={customer.name}\r\n                        data-surname={customer.surname}\r\n                        data-email={customer.email}\r\n                        data-phone={customer.phone}\r\n                        data-address={customer.address}\r\n                      ></option>\r\n                    ))}\r\n                </select>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Customer Name\"\r\n                  className=\"cursor-not-allowed\"\r\n                  defaultValue={customerName}\r\n                  readOnly\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-row\">\r\n              <label>Dependent Name</label>\r\n              <div className=\"flex gap-[1rem] w-full justify-start flex-wrap\">\r\n                <select\r\n                  className=\"w-[85%]\"\r\n                  onChange={(e) => setDependentName(e.target.value)}\r\n                >\r\n                  <option label=\"-- Select a dependent --\"></option>\r\n                  {customerDependents &&\r\n                    customerDependents.map((customer, index) => (\r\n                      <option key={index}>{customer.name}</option>\r\n                    ))}\r\n                </select>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"edit-btn w-[10%]\"\r\n                  title=\"Add dependent to the list\"\r\n                  onClick={addDependent}\r\n                >\r\n                  {loading ? (\r\n                    <i className=\"fas fa-spinner animate-spin\"></i>\r\n                  ) : (\r\n                    <i className=\"fas fa-plus\"></i>\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n          <div className=\"form-row\">\r\n            <h1 className=\"text-center text-2xl\">List of Dependents</h1>\r\n          </div>\r\n          <div className=\"border-t-2 border-b-2 border-black my-[2rem]\">\r\n            {order.customers && order.customers.length > 0 ? (\r\n              order.customers.map((customer, index) => (\r\n                <form className=\"flex flex-col justify-center items-center w-[90vw]\">\r\n                  <div className=\"form-row\">\r\n                    <div className=\"flex gap-[1rem] w-full justify-start flex-wrap\">\r\n                      <label\r\n                        className=\"border-b-[0.1rem] border-b-gray-400 pb-[0.5rem] w-[85%]\"\r\n                        key={index}\r\n                      >\r\n                        {customer.customer_name}\r\n                      </label>\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"delete-btn w-[10%]\"\r\n                        title=\"Remove this item\"\r\n                        onClick={(e) =>\r\n                          deleteDependent(e, order._id, customer._id)\r\n                        }\r\n                      >\r\n                        {loading ? (\r\n                          <i className=\"fas fa-spinner animate-spin\"></i>\r\n                        ) : (\r\n                          <i className=\"fas fa-minus\"></i>\r\n                        )}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n              ))\r\n            ) : (\r\n              <p className=\"text-center my-[2rem] animate-pulse text-lg text-[orangered]\">\r\n                Nothing here yet...\r\n              </p>\r\n            )}\r\n          </div>\r\n          <form\r\n            className=\"flex flex-col justify-center items-center w-[90vw]\"\r\n            onSubmit={handleSubmit}\r\n          >\r\n            <OrderForm\r\n              customerName={customerName}\r\n              customerSurname={customerSurname}\r\n              customerEmail={customerEmail}\r\n              customerPhone={customerPhone}\r\n              customerAddress={customerAddress}\r\n              orderId={id}\r\n              loading={loading}\r\n              setMeasurer={setMeasurer}\r\n              setCutter={setCutter}\r\n              setSewer={setSewer}\r\n              setOrderStatus={setOrderStatus}\r\n              setOrderNotes={setOrderNotes}\r\n            />\r\n          </form>\r\n          <button\r\n            className=\"bg-[red] py-[0.5rem] px-[1rem] fixed top-[50%] rounded-full text-[1.5rem] text-white hover:rotate-12 transition-all\"\r\n            disabled={loading}\r\n            onClick={deleteEntireOrder}\r\n            title=\"Delete this order\"\r\n          >\r\n            {loading ? (\r\n              <i className=\"fas fa-spinner animate-spin\"></i>\r\n            ) : (\r\n              <>\r\n                <i className=\"fas fa-trash-can\"></i>\r\n              </>\r\n            )}\r\n          </button>\r\n        </section>\r\n      </main>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NewOrder;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
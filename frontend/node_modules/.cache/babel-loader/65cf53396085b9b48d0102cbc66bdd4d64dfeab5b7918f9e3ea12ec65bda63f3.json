{"ast":null,"code":"import{Link,useNavigate}from\"react-router-dom\";import logo from\"../assets/images/logo192.png\";import{useState,useEffect}from\"react\";import{useStoreState}from\"easy-peasy\";import axios from\"axios\";import{toast}from\"react-toastify\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Navbar=()=>{const[menu,setMenu]=useState(false);const userLanguage=useStoreState(state=>state.userLanguage);const[selectedLanguage,setSelectedLanguage]=useState(userLanguage);const navigate=useNavigate();const handleLogout=async()=>{localStorage.clear();navigate(\"/users/login\");toast.success(\"Successfully logged out\");};const apiUrl=window.location.origin.includes(\"localhost\")?\"http://localhost:5000/users/language\":\"https://khamco-shop-backend.onrender.com/users/language\";const authKey=localStorage.getItem(\"jwt\");const updateUserLanguage=async language=>{localStorage.setItem(\"userLanguage\",language);await axios.post(apiUrl,{language:language},{headers:{Authorization:\"Bearer \".concat(authKey)}}).then(response=>{toast.success(response.data.message);}).catch(error=>{var _error$response,_error$response$data;toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||error.message);});};useEffect(()=>{setSelectedLanguage(userLanguage);},[userLanguage]);const handleLanguageChange=e=>{const language=e.target.value;setSelectedLanguage(language);updateUserLanguage(language);};return/*#__PURE__*/_jsxs(\"nav\",{className:\"flex gap-[8rem] justify-evenly items-center py-2 px-4\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"text-[3rem] text-khamco-primary no-underline font-minimoBold\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"logo\",style:{width:\"40%\"}})}),!menu&&/*#__PURE__*/_jsx(\"button\",{className:\"text-khamco-ribbon text-[2rem] cursor-pointer md:hidden\",onClick:()=>setMenu(!menu),children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-bars\"})}),menu&&/*#__PURE__*/_jsx(\"button\",{className:\"text-khamco-ribbon text-[2rem] cursor-pointer md:hidden\",onClick:()=>setMenu(!menu),children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"md:flex flex-col md:flex-row justify-between list-none gap-[2rem] absolute md:relative w-full md:w-[35%] bg-white top-[15%] z-50 py-[1rem] px-[4rem] md:p-0 \".concat(menu?\"flex\":\"hidden\"),children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"text-white text-center bg-khamco-ribbon py-2 px-4 rounded-2xl cursor-pointer text-[1rem]\",children:\"Main Menu\"}),/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsxs(\"select\",{value:selectedLanguage,onChange:handleLanguageChange,className:\"text-white bg-khamco-ribbon py-2 px-4 rounded-2xl cursor-pointer text-[1rem] w-full text-center\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"en\",className:\"bg-white text-khamco-secondary cursor-pointer\",children:\"English\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hi\",className:\"bg-white text-khamco-secondary cursor-pointer\",children:\"Hindi\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ur\",className:\"bg-white text-khamco-secondary cursor-pointer\",children:\"Urdu\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ar\",className:\"bg-white text-khamco-secondary cursor-pointer\",children:\"Arabic\"})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"text-white bg-[crimson] py-2 px-4 rounded-2xl cursor-pointer text-[1rem]\",onClick:handleLogout,children:\"Logout\"})]})]});};export default Navbar;","map":{"version":3,"names":["Link","useNavigate","logo","useState","useEffect","useStoreState","axios","toast","jsx","_jsx","jsxs","_jsxs","Navbar","menu","setMenu","userLanguage","state","selectedLanguage","setSelectedLanguage","navigate","handleLogout","localStorage","clear","success","apiUrl","window","location","origin","includes","authKey","getItem","updateUserLanguage","language","setItem","post","headers","Authorization","concat","then","response","data","message","catch","error","_error$response","_error$response$data","handleLanguageChange","e","target","value","className","children","to","src","alt","style","width","onClick","onChange"],"sources":["C:/Users/TawandaMsengezi/Documents/Upwork/Osama-Client/Khamco Shop/Shop-1/client/src/components/Navbar.jsx"],"sourcesContent":["import { Link, useNavigate } from \"react-router-dom\";\r\nimport logo from \"../assets/images/logo192.png\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useStoreState } from \"easy-peasy\";\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst Navbar = () => {\r\n  const [menu, setMenu] = useState(false);\r\n  const userLanguage = useStoreState((state) => state.userLanguage);\r\n  const [selectedLanguage, setSelectedLanguage] = useState(userLanguage);\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogout = async () => {\r\n    localStorage.clear();\r\n    navigate(\"/users/login\");\r\n    toast.success(\"Successfully logged out\");\r\n  };\r\n\r\n  const apiUrl = window.location.origin.includes(\"localhost\")\r\n    ? \"http://localhost:5000/users/language\"\r\n    : \"https://khamco-shop-backend.onrender.com/users/language\";\r\n  const authKey = localStorage.getItem(\"jwt\");\r\n\r\n  const updateUserLanguage = async (language) => {\r\n    localStorage.setItem(\"userLanguage\", language);\r\n    await axios\r\n      .post(\r\n        apiUrl,\r\n        { language: language },\r\n        {\r\n          headers: { Authorization: `Bearer ${authKey}` },\r\n        }\r\n      )\r\n      .then((response) => {\r\n        toast.success(response.data.message);\r\n      })\r\n      .catch((error) => {\r\n        toast.error(error.response?.data?.message || error.message);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setSelectedLanguage(userLanguage);\r\n  }, [userLanguage]);\r\n\r\n  const handleLanguageChange = (e) => {\r\n    const language = e.target.value;\r\n    setSelectedLanguage(language);\r\n    updateUserLanguage(language);\r\n  };\r\n\r\n  return (\r\n    <nav className=\"flex gap-[8rem] justify-evenly items-center py-2 px-4\">\r\n      <Link\r\n        to=\"/\"\r\n        className=\"text-[3rem] text-khamco-primary no-underline font-minimoBold\"\r\n      >\r\n        <img src={logo} alt=\"logo\" style={{ width: \"40%\" }} />\r\n      </Link>\r\n      {!menu && (\r\n        <button\r\n          className=\"text-khamco-ribbon text-[2rem] cursor-pointer md:hidden\"\r\n          onClick={() => setMenu(!menu)}\r\n        >\r\n          <i className=\"fas fa-bars\"></i>\r\n        </button>\r\n      )}\r\n      {menu && (\r\n        <button\r\n          className=\"text-khamco-ribbon text-[2rem] cursor-pointer md:hidden\"\r\n          onClick={() => setMenu(!menu)}\r\n        >\r\n          <i className=\"fas fa-times\"></i>\r\n        </button>\r\n      )}\r\n      <ul\r\n        className={`md:flex flex-col md:flex-row justify-between list-none gap-[2rem] absolute md:relative w-full md:w-[35%] bg-white top-[15%] z-50 py-[1rem] px-[4rem] md:p-0 ${\r\n          menu ? \"flex\" : \"hidden\"\r\n        }`}\r\n      >\r\n        <Link\r\n          to=\"/\"\r\n          className=\"text-white text-center bg-khamco-ribbon py-2 px-4 rounded-2xl cursor-pointer text-[1rem]\"\r\n        >\r\n          Main Menu\r\n        </Link>\r\n        <form>\r\n          <select\r\n            value={selectedLanguage}\r\n            onChange={handleLanguageChange}\r\n            className=\"text-white bg-khamco-ribbon py-2 px-4 rounded-2xl cursor-pointer text-[1rem] w-full text-center\"\r\n          >\r\n            <option\r\n              value=\"en\"\r\n              className=\"bg-white text-khamco-secondary cursor-pointer\"\r\n            >\r\n              English\r\n            </option>\r\n            <option\r\n              value=\"hi\"\r\n              className=\"bg-white text-khamco-secondary cursor-pointer\"\r\n            >\r\n              Hindi\r\n            </option>\r\n            <option\r\n              value=\"ur\"\r\n              className=\"bg-white text-khamco-secondary cursor-pointer\"\r\n            >\r\n              Urdu\r\n            </option>\r\n            <option\r\n              value=\"ar\"\r\n              className=\"bg-white text-khamco-secondary cursor-pointer\"\r\n            >\r\n              Arabic\r\n            </option>\r\n          </select>\r\n        </form>\r\n        <button\r\n          className=\"text-white bg-[crimson] py-2 px-4 rounded-2xl cursor-pointer text-[1rem]\"\r\n          onClick={handleLogout}\r\n        >\r\n          Logout\r\n        </button>\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n"],"mappings":"AAAA,OAASA,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAO,CAAAC,IAAI,KAAM,8BAA8B,CAC/C,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,aAAa,KAAQ,YAAY,CAC1C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,KAAK,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvC,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACnB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGX,QAAQ,CAAC,KAAK,CAAC,CACvC,KAAM,CAAAY,YAAY,CAAGV,aAAa,CAAEW,KAAK,EAAKA,KAAK,CAACD,YAAY,CAAC,CACjE,KAAM,CAACE,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGf,QAAQ,CAACY,YAAY,CAAC,CACtE,KAAM,CAAAI,QAAQ,CAAGlB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAmB,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/BC,YAAY,CAACC,KAAK,CAAC,CAAC,CACpBH,QAAQ,CAAC,cAAc,CAAC,CACxBZ,KAAK,CAACgB,OAAO,CAAC,yBAAyB,CAAC,CAC1C,CAAC,CAED,KAAM,CAAAC,MAAM,CAAGC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAACC,QAAQ,CAAC,WAAW,CAAC,CACvD,sCAAsC,CACtC,yDAAyD,CAC7D,KAAM,CAAAC,OAAO,CAAGR,YAAY,CAACS,OAAO,CAAC,KAAK,CAAC,CAE3C,KAAM,CAAAC,kBAAkB,CAAG,KAAO,CAAAC,QAAQ,EAAK,CAC7CX,YAAY,CAACY,OAAO,CAAC,cAAc,CAAED,QAAQ,CAAC,CAC9C,KAAM,CAAA1B,KAAK,CACR4B,IAAI,CACHV,MAAM,CACN,CAAEQ,QAAQ,CAAEA,QAAS,CAAC,CACtB,CACEG,OAAO,CAAE,CAAEC,aAAa,WAAAC,MAAA,CAAYR,OAAO,CAAG,CAChD,CACF,CAAC,CACAS,IAAI,CAAEC,QAAQ,EAAK,CAClBhC,KAAK,CAACgB,OAAO,CAACgB,QAAQ,CAACC,IAAI,CAACC,OAAO,CAAC,CACtC,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,EAAK,KAAAC,eAAA,CAAAC,oBAAA,CAChBtC,KAAK,CAACoC,KAAK,CAAC,EAAAC,eAAA,CAAAD,KAAK,CAACJ,QAAQ,UAAAK,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgBJ,IAAI,UAAAK,oBAAA,iBAApBA,oBAAA,CAAsBJ,OAAO,GAAIE,KAAK,CAACF,OAAO,CAAC,CAC7D,CAAC,CAAC,CACN,CAAC,CAEDrC,SAAS,CAAC,IAAM,CACdc,mBAAmB,CAACH,YAAY,CAAC,CACnC,CAAC,CAAE,CAACA,YAAY,CAAC,CAAC,CAElB,KAAM,CAAA+B,oBAAoB,CAAIC,CAAC,EAAK,CAClC,KAAM,CAAAf,QAAQ,CAAGe,CAAC,CAACC,MAAM,CAACC,KAAK,CAC/B/B,mBAAmB,CAACc,QAAQ,CAAC,CAC7BD,kBAAkB,CAACC,QAAQ,CAAC,CAC9B,CAAC,CAED,mBACErB,KAAA,QAAKuC,SAAS,CAAC,uDAAuD,CAAAC,QAAA,eACpE1C,IAAA,CAACT,IAAI,EACHoD,EAAE,CAAC,GAAG,CACNF,SAAS,CAAC,8DAA8D,CAAAC,QAAA,cAExE1C,IAAA,QAAK4C,GAAG,CAAEnD,IAAK,CAACoD,GAAG,CAAC,MAAM,CAACC,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAM,CAAE,CAAE,CAAC,CAClD,CAAC,CACN,CAAC3C,IAAI,eACJJ,IAAA,WACEyC,SAAS,CAAC,yDAAyD,CACnEO,OAAO,CAAEA,CAAA,GAAM3C,OAAO,CAAC,CAACD,IAAI,CAAE,CAAAsC,QAAA,cAE9B1C,IAAA,MAAGyC,SAAS,CAAC,aAAa,CAAI,CAAC,CACzB,CACT,CACArC,IAAI,eACHJ,IAAA,WACEyC,SAAS,CAAC,yDAAyD,CACnEO,OAAO,CAAEA,CAAA,GAAM3C,OAAO,CAAC,CAACD,IAAI,CAAE,CAAAsC,QAAA,cAE9B1C,IAAA,MAAGyC,SAAS,CAAC,cAAc,CAAI,CAAC,CAC1B,CACT,cACDvC,KAAA,OACEuC,SAAS,gKAAAb,MAAA,CACPxB,IAAI,CAAG,MAAM,CAAG,QAAQ,CACvB,CAAAsC,QAAA,eAEH1C,IAAA,CAACT,IAAI,EACHoD,EAAE,CAAC,GAAG,CACNF,SAAS,CAAC,0FAA0F,CAAAC,QAAA,CACrG,WAED,CAAM,CAAC,cACP1C,IAAA,SAAA0C,QAAA,cACExC,KAAA,WACEsC,KAAK,CAAEhC,gBAAiB,CACxByC,QAAQ,CAAEZ,oBAAqB,CAC/BI,SAAS,CAAC,iGAAiG,CAAAC,QAAA,eAE3G1C,IAAA,WACEwC,KAAK,CAAC,IAAI,CACVC,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAC1D,SAED,CAAQ,CAAC,cACT1C,IAAA,WACEwC,KAAK,CAAC,IAAI,CACVC,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAC1D,OAED,CAAQ,CAAC,cACT1C,IAAA,WACEwC,KAAK,CAAC,IAAI,CACVC,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAC1D,MAED,CAAQ,CAAC,cACT1C,IAAA,WACEwC,KAAK,CAAC,IAAI,CACVC,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAC1D,QAED,CAAQ,CAAC,EACH,CAAC,CACL,CAAC,cACP1C,IAAA,WACEyC,SAAS,CAAC,0EAA0E,CACpFO,OAAO,CAAErC,YAAa,CAAA+B,QAAA,CACvB,QAED,CAAQ,CAAC,EACP,CAAC,EACF,CAAC,CAEV,CAAC,CAED,cAAe,CAAAvC,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import Navbar from\"../../components/Navbar\";import{Link,useNavigate,useParams}from\"react-router-dom\";import Footer from\"../../components/Footer\";import{useStoreState}from\"easy-peasy\";import axios from\"axios\";import{toast}from\"react-toastify\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const NewInvoice=()=>{const{id}=useParams();const[writingDirection,setWritingDirection]=useState(\"ltr\");const userLanguage=useStoreState(state=>state.userLanguage);// API Data\nconst[services,setServices]=useState([]);const[products,setProducts]=useState([]);const[customers,setCustomers]=useState([]);const[invoice,setInvoice]=useState({});// Product form fields\nconst[productChoice,setProductChoice]=useState(\"\");const[productQuantity,setProductQuantity]=useState(0);const[productPrice,setProductPrice]=useState(0);const[productAvailable,setProductAvailable]=useState(0);const productQuantityRef=useRef(null);const productChoiceRef=useRef(null);// Service form fields\nconst[serviceChoice,setServiceChoice]=useState(\"\");const[serviceQuantity,setServiceQuantity]=useState(0);const[servicePrice,setServicePrice]=useState(0);const serviceQuantityRef=useRef(null);const serviceChoiceRef=useRef(null);// Dependent form fields\nconst[dependentName,setDependentName]=useState(\"\");const[dependents,setDependents]=useState([]);const dependentNameRef=useRef(null);// Other form fields\nconst[customerName,setCustomerName]=useState(\"\");const[customerSurname,setCustomerSurname]=useState(\"\");const[customerPhone,setCustomerPhone]=useState(\"\");const[paymentType,setPaymentType]=useState(\"\");const[paymentStatus,setPaymentStatus]=useState(\"\");const[amountPaid,setAmountPaid]=useState(null);const[totalPrice,setTotalPrice]=useState(0);const[date,setDate]=useState(null);// Dynamic values\nconst[loading,setLoading]=useState(false);const[loadingData,setLoadingData]=useState(true);const apiUrl=window.location.origin.includes(\"localhost\")?\"http://localhost:5000/invoices\":\"https://khamco-shop-backend.onrender.com/invoices\";const authKey=localStorage.getItem(\"jwt\");const navigate=useNavigate();useEffect(()=>{document.title=\"New Invoice - Khamco Shop\";const determineWritingDirection=()=>{if(userLanguage===\"ar\"||userLanguage===\"ur\"){setWritingDirection(\"rtl\");}};determineWritingDirection();const fetchData=async()=>{try{const response=await axios.get(\"\".concat(apiUrl,\"/new-invoice/data/\").concat(id),{headers:{Authorization:\"Bearer \".concat(authKey)}});setProducts(response.data.products);setServices(response.data.services);setCustomers(response.data.customers);setInvoice(response.data.invoice);setLoadingData(false);}catch(error){var _error$response,_error$response$data;toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||error.message);setLoadingData(false);}};fetchData();},[apiUrl,authKey,id,userLanguage]);const clearForm=async()=>{// Product form fields\nsetProductChoice(\"\");productChoiceRef.current.value=\"-- Select a product --\";setProductQuantity(0);setProductAvailable(0);setProductPrice(0);productQuantityRef.current.value=null;// Service form fields\nsetServiceChoice(\"\");serviceChoiceRef.current.value=\"-- Select a service --\";setServiceQuantity(0);setServicePrice(0);serviceQuantityRef.current.value=null;// Dependent form fields\nsetDependentName(\"\");dependentNameRef.current.value=\"\";dependentNameRef.current.label=\"-- Select a Dependent --\";setTotalPrice(0);};const removeProduct=async(productName,productId)=>{setLoading(true);try{const response=await axios.delete(\"\".concat(apiUrl,\"/\").concat(id,\"/products/\").concat(productId),{data:{product_choice:productName},headers:{Authorization:\"Bearer \".concat(authKey)}});setInvoice(response.data.invoice);setProducts(response.data.products);setServices(response.data.services);setLoading(false);clearForm();}catch(error){var _error$response2,_error$response2$data;setLoading(false);toast.error(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||error.message);}};const addProduct=async()=>{setLoading(true);if(!productQuantity||productQuantity<=0){setLoading(false);toast.info(\"Please enter a product quantity\");return;}try{const response=await axios.put(\"\".concat(apiUrl,\"/\").concat(id,\"/products\"),{product_choice:productChoice,product_quantity:productQuantity,product_price:productPrice},{headers:{Authorization:\"Bearer \".concat(authKey)}});setProducts(response.data.products);setServices(response.data.services);setInvoice(response.data.invoice);setLoading(false);clearForm();}catch(error){var _error$response3,_error$response3$data;setLoading(false);toast.error(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||error.message);}};const handleProductChange=e=>{const selectedProductName=e.target.value;if(selectedProductName===\"-- Select a product --\"){// Reset relevant states when the default option is selected\nsetProductChoice(\"\");setTotalPrice(0+servicePrice*serviceQuantity);setProductAvailable(0);setProductPrice(0);return;}const selectedProduct=products.find(product=>product.name===selectedProductName);if(selectedProduct){setProductChoice(selectedProductName);setTotalPrice(0+selectedProduct.price*productQuantity+servicePrice*serviceQuantity);setProductAvailable(selectedProduct.quantity);setProductPrice(selectedProduct.price);}};const handleServiceChange=e=>{const selectedService=e.target.value;if(selectedService===\"-- Select a service --\"){// Reset relevant states when the default option is selected\nsetServiceChoice(\"\");setTotalPrice(0+productPrice*productQuantity);setServicePrice(0);return;}const chosenService=services.find(service=>service.service===selectedService);if(selectedService){setServiceChoice(selectedService);setTotalPrice(0+chosenService.price*serviceQuantity+productPrice*productQuantity);setServicePrice(chosenService.price);}};const handleCustomerChange=e=>{const selectedCustomerName=e.target.value;setCustomerName(selectedCustomerName);const selectedCustomer=customers.find(customer=>customer.name===selectedCustomerName);if(selectedCustomer){setCustomerSurname(selectedCustomer.surname);setCustomerPhone(selectedCustomer.phone);setDependents(selectedCustomer.dependents);}};const removeService=async serviceId=>{setLoading(true);try{const response=await axios.delete(\"\".concat(apiUrl,\"/\").concat(id,\"/services/\").concat(serviceId),{headers:{Authorization:\"Bearer \".concat(authKey)}});setInvoice(response.data.invoice);setProducts(response.data.products);setServices(response.data.services);clearForm();setLoading(false);}catch(error){var _error$response4,_error$response4$data;setLoading(false);toast.error(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.message)||error.message);}};const addService=async()=>{setLoading(true);if(!serviceQuantity||serviceQuantity<=0){setLoading(false);toast.info(\"Service quantity is required\");return;}try{const response=await axios.put(\"\".concat(apiUrl,\"/\").concat(id,\"/services\"),{service_choice:serviceChoice,service_quantity:serviceQuantity,service_price:servicePrice},{headers:{Authorization:\"Bearer \".concat(authKey)}});setProducts(response.data.products);setServices(response.data.services);setInvoice(response.data.invoice);clearForm();setLoading(false);}catch(error){var _error$response5,_error$response5$data;setLoading(false);toast.error(((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.message)||error.message);}};const removeDependent=async dependentId=>{setLoading(true);try{const response=await axios.delete(\"\".concat(apiUrl,\"/\").concat(id,\"/dependents/\").concat(dependentId),{headers:{Authorization:\"Bearer \".concat(authKey)}});setInvoice(response.data.invoice);setProducts(response.data.products);setServices(response.data.services);setLoading(false);clearForm();}catch(error){var _error$response6,_error$response6$data;setLoading(false);toast.error(((_error$response6=error.response)===null||_error$response6===void 0?void 0:(_error$response6$data=_error$response6.data)===null||_error$response6$data===void 0?void 0:_error$response6$data.message)||error.message);}};const addDependent=async()=>{setLoading(true);if(!dependentName){setLoading(false);toast.info(\"Please select a dependent\");return;}if(!customerName){setLoading(false);toast.info(\"Please select a customer\");return;}try{const response=await axios.put(\"\".concat(apiUrl,\"/\").concat(id,\"/dependents\"),{dependent_name:dependentName},{headers:{Authorization:\"Bearer \".concat(authKey)}});setProducts(response.data.products);setServices(response.data.services);setInvoice(response.data.invoice);setLoading(false);clearForm();}catch(error){var _error$response7,_error$response7$data;setLoading(false);toast.error(((_error$response7=error.response)===null||_error$response7===void 0?void 0:(_error$response7$data=_error$response7.data)===null||_error$response7$data===void 0?void 0:_error$response7$data.message)||error.message);}};const deleteInvoice=async e=>{e.preventDefault();setLoading(true);try{const response=await axios.delete(\"\".concat(apiUrl,\"/\").concat(id),{headers:{Authorization:\"Bearer \".concat(authKey)}});toast.success(response.data.message);navigate(\"/invoices\");}catch(error){var _error$response8,_error$response8$data;setLoading(false);toast.error(((_error$response8=error.response)===null||_error$response8===void 0?void 0:(_error$response8$data=_error$response8.data)===null||_error$response8$data===void 0?void 0:_error$response8$data.message)||error.message);}};const handleSubmit=async()=>{setLoading(true);if(!amountPaid){setLoading(false);toast.info(\"Please enter the amount paid\");return;}if(!date){setLoading(false);toast.info(\"Invoice date is required\");return;}if(!customerName){setLoading(false);toast.info(\"Please select a customer\");return;}if(!paymentStatus){setLoading(false);toast.info(\"Please select a payment status\");return;}try{const response=axios.put(\"\".concat(apiUrl,\"/\").concat(id),{service_choice:serviceChoice,service_quantity:serviceQuantity,service_price:servicePrice,product_choice:productChoice,product_quantity:productQuantity,product_price:productPrice,dependent_name:dependentName,customer_name:customerName,customer_surname:customerSurname,customer_phone:customerPhone,payment_type:paymentType,payment_status:paymentStatus,amount_paid:amountPaid,total_price:totalPrice,date:date},{headers:{Authorization:\"Bearer \".concat(authKey)}});setLoading(false);toast.success(\"Invoice details saved\");navigate(\"/invoices\");}catch(error){var _error$response9,_error$response9$data;setLoading(false);console.error(\"Error:\",error.message);toast.error(((_error$response9=error.response)===null||_error$response9===void 0?void 0:(_error$response9$data=_error$response9.data)===null||_error$response9$data===void 0?void 0:_error$response9$data.message)||error.message);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"main\",{className:\"p-[4rem]\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"khamco-wrapper font-minimoBold\",dir:writingDirection,children:[/*#__PURE__*/_jsx(\"div\",{className:\"utilities\",children:/*#__PURE__*/_jsxs(Link,{to:\"/invoices\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-left\"}),\" Invoices\"]})}),/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"New Invoice\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"w-full my-[2rem] m-auto border-collapse text-[1.2rem] overflow-auto\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"text-khamco-primary font-bold\",children:/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t-0 border-[0.2rem] border-khamco-secondary relative\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"bg-[#ddd] text-center p-[0.5rem]\",children:\"Item\"}),/*#__PURE__*/_jsx(\"td\",{className:\"bg-[#ddd] text-center p-[0.5rem]\",children:\"Quantity\"}),/*#__PURE__*/_jsxs(\"td\",{className:\"bg-[#ddd] text-center p-[0.5rem]\",children:[\"Available\",\" \",/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-info-circle text-khamco-ribbon cursor-pointer hover:text-khamco-primary\",title:\"Total products available in the database\"})]}),/*#__PURE__*/_jsx(\"td\",{className:\"bg-[#ddd] text-center p-[0.5rem]\",children:\"Price/Unit\"}),/*#__PURE__*/_jsx(\"td\",{className:\"bg-[#ddd] text-center p-[0.5rem]\",children:\"Total Price\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[loadingData&&new Array(3).fill(/*#__PURE__*/_jsxs(\"tr\",{className:\"border-khamco-secondary bg-[#999] animate-pulse h-[2.5rem]\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-khamco-secondary\",children:\"Loading...\"}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{})]})),invoice.products&&invoice.products.length>0?invoice.products.map((product,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t-0 border-[0.2rem] border-khamco-secondary relative\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"text-center p-[0.5rem]\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"remove-data\",onClick:()=>removeProduct(product.choice,product._id),title:\"Remove this product\",children:loading?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner animate-spin\"}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-minus\"})})}),/*#__PURE__*/_jsx(\"span\",{className:\"p-[0.5rem] text-[1.2rem] text-center\",children:product.choice})]}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\",children:/*#__PURE__*/_jsx(\"span\",{className:\"p-[0.5rem] text-[1.2rem] text-center\",children:product.quantity})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\",children:\"--\"}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\",children:/*#__PURE__*/_jsx(\"span\",{className:\"p-[0.5rem] text-[1.2rem] text-center\",children:new Intl.NumberFormat(\"en-US\").format(product.price)})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p[0.5rem]\",children:new Intl.NumberFormat(\"en-US\").format(product.total_price)})]},index)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{className:\"text-center my-[2rem] animate-pulse text-lg text-[orangered]\",children:\"No products yet...\"})}),/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t-0 border-[0.2rem] border-khamco-secondary\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"text-center p-[0.5rem]\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"add-data\",onClick:addProduct,title:\"Add a product\",children:loading?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner animate-spin\"}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"})})}),/*#__PURE__*/_jsxs(\"select\",{className:\"w-full p-[0.5rem] text-center text-[1.2rem] border border-black rounded-md\",onChange:handleProductChange,ref:productChoiceRef,children:[/*#__PURE__*/_jsx(\"option\",{label:\"-- Select a product --\",value:\"-- Select a product --\"}),products&&products.map((product,index)=>/*#__PURE__*/_jsx(\"option\",{value:product.name,label:product.name},index))]})]}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"p-[0.5rem] text-[1.2rem] text-center border border-black rounded-md\",placeholder:\"Product quantity\",ref:productQuantityRef,onChange:e=>{setProductQuantity(e.target.value);setTotalPrice(0+productPrice*e.target.value+serviceQuantity*servicePrice);}})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem] \".concat(productAvailable<=0&&\"text-[red] animate-pulse\"),children:productAvailable.toFixed(2)}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\",children:new Intl.NumberFormat(\"en-US\").format(productPrice)}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\",children:new Intl.NumberFormat(\"en-US\").format(productPrice*productQuantity)})]}),loadingData&&new Array(3).fill(/*#__PURE__*/_jsxs(\"tr\",{className:\"border-khamco-secondary bg-[#999] animate-pulse h-[2.5rem]\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-khamco-secondary\",children:\"Loading...\"}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{})]})),invoice.services&&invoice.services.length>0?invoice.services.map((service,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t-0 border-[0.2rem] border-khamco-secondary relative\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"text-center p-[0.5rem]\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"remove-data\",onClick:()=>removeService(service._id),title:\"Remove this service\",children:loading?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner animate-spin\"}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-minus\"})})}),/*#__PURE__*/_jsx(\"span\",{className:\"p-[0.5rem] text-[1.2rem] text-center\",children:service.choice})]}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\",children:/*#__PURE__*/_jsx(\"span\",{className:\"p-[0.5rem] text-[1.2rem] text-center\",children:service.quantity})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\"}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\",children:/*#__PURE__*/_jsx(\"span\",{className:\"p-[0.5rem] text-[1.2rem] text-center\",children:service.price})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\",children:new Intl.NumberFormat(\"en-US\").format(service.total_price)})]},index)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{className:\"text-center my-[2rem] animate-pulse text-lg text-[orangered]\",children:\"No services yet...\"})}),/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t-0 border-[0.2rem] border-khamco-secondary relative\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"text-center p-[0.5rem]\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"add-data\",onClick:addService,title:\"Add a service\",children:loading?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner animate-spin\"}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"})})}),/*#__PURE__*/_jsxs(\"select\",{className:\"w-full p-[0.5rem] text-center text-[1.2rem] border border-black rounded-md\",onChange:handleServiceChange,ref:serviceChoiceRef,children:[/*#__PURE__*/_jsx(\"option\",{label:\"-- Select a service --\",value:\"-- Select a service --\"}),services&&services.map((service,index)=>/*#__PURE__*/_jsx(\"option\",{value:service.service,label:service.service},index))]})]}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"p-[0.5rem] text-[1.2rem] text-center border border-black rounded-md\",placeholder:\"Service quantity\",ref:serviceQuantityRef,onChange:e=>{setServiceQuantity(e.target.value);setTotalPrice(0+servicePrice*e.target.value+productPrice*productQuantity);}})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\"}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\",children:/*#__PURE__*/_jsx(\"span\",{className:\"p-[0.5rem] text-[1.2rem] text-center\",children:servicePrice})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\",children:new Intl.NumberFormat(\"en-US\").format(servicePrice*serviceQuantity)})]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t-0 border-[0.2rem] border-khamco-secondary relative\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\"}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\"}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\"}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\",children:/*#__PURE__*/_jsx(\"strong\",{className:\"text-khamco-primary\",children:\"Total Invoice\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"p-[0.5rem] text-[1.2rem] text-center\",children:new Intl.NumberFormat(\"en-US\").format(invoice.total_price+totalPrice)})})]}),/*#__PURE__*/_jsx(\"tr\",{className:\"border-t-0 border-[0.2rem] border-khamco-secondary relative text-khamco-primary font-bold\",children:/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\",children:\"Customer Details\"})}),invoice.dependents&&invoice.dependents.length>0?invoice.dependents.map((dependent,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t-0 border-[0.2rem] border-khamco-secondary relative\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"text-center p-[0.5rem]\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"remove-data\",onClick:()=>removeDependent(dependent._id),title:\"Remove this dependent\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-minus\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"p-[0.5rem] text-[1.2rem] text-center\",children:dependent.customer_name})]}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\"}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\"}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\"}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\"})]},index)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{className:\"text-center my-[2rem] animate-pulse text-lg text-[orangered]\",children:\"No dependents selected...\"})}),/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t-0 border-[0.2rem] border-khamco-secondary relative\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"w-full p-[0.5rem] text-center text-[1.2rem] border border-black rounded-md\",onChange:handleCustomerChange,children:[/*#__PURE__*/_jsx(\"option\",{label:\"-- Select a Customer --\"}),customers&&customers.map((customer,index)=>/*#__PURE__*/_jsx(\"option\",{value:customer.name,children:\"\".concat(customer.name,\" \").concat(customer.surname)},index))]})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\"}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\"}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\"}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\"})]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t-0 border-[0.2rem] border-khamco-secondary relative\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"text-center p-[0.5rem]\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"add-data\",onClick:addDependent,title:\"Add a dependent\",children:loading?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner animate-spin\"}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"})})}),/*#__PURE__*/_jsxs(\"select\",{className:\"w-full p-[0.5rem] text-center text-[1.2rem] border border-black rounded-md\",onChange:e=>setDependentName(e.target.value),ref:dependentNameRef,children:[/*#__PURE__*/_jsx(\"option\",{label:\"-- Select a Dependent --\",value:\"\"}),dependents&&dependents.length>0&&dependents.map((dependent,index)=>/*#__PURE__*/_jsx(\"option\",{value:\"\".concat(dependent.name,\" \").concat(dependent.surname),label:\"\".concat(dependent.name,\" \").concat(dependent.surname)},index))]})]}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\"}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\"}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\"}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\"})]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t-0 border-[0.2rem] border-khamco-secondary relative\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"p-[0.5rem] text-[1.2rem] text-center\",children:[\"Surname: \",customerSurname||\"--\"]}),/*#__PURE__*/_jsxs(\"td\",{className:\"p-[0.5rem] text-[1.2rem] text-center\",children:[\"Phone: \",customerPhone||\"--\"]})]}),/*#__PURE__*/_jsx(\"tr\",{className:\"border-t-0 border-[0.2rem] border-khamco-secondary\",children:/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem] text-khamco-primary font-bold\",children:\"Payment Details\"})}),/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t-0 border-[0.2rem] border-khamco-secondary relative\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",placeholder:\"Amount Paid\",className:\"w-full p-[0.5rem] text-[1.2rem] text-center border border-black rounded-md\",onChange:e=>setAmountPaid(e.target.value)})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\",children:/*#__PURE__*/_jsxs(\"select\",{name:\"payment_type\",onChange:e=>setPaymentType(e.target.value),className:\"w-full p-[0.5rem] text-[1.2rem] text-center border border-black rounded-md\",children:[/*#__PURE__*/_jsx(\"option\",{label:\"-- Payment Type --\",value:null}),/*#__PURE__*/_jsx(\"option\",{value:\"K-Net\",children:\"K-Net\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Cash\",children:\"Cash\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Other\",children:\"Other\"})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"w-full p-[0.5rem] text-[1.2rem] text-center border border-black rounded-md\",onChange:e=>setPaymentStatus(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{label:\"-- Payment status --\",value:null}),/*#__PURE__*/_jsx(\"option\",{value:\"Unpaid\",children:\"Unpaid\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Partially Paid\",children:\"Partially Paid\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Paid\",children:\"Paid\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Other\",children:\"Other\"})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\",children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"uppercase w-full p-[0.5rem] text-[1.2rem] text-center border border-black rounded-md\",onChange:e=>setDate(e.target.value)})})]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t-0 border-[0.2rem] border-khamco-secondary\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem] text-khamco-primary font-bold\",children:\"Company\"}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\",children:\"Khamco\"}),/*#__PURE__*/_jsx(\"td\",{}),invoice.total_price&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem] text-khamco-primary font-bold\",children:\"Balance\"}),/*#__PURE__*/_jsx(\"td\",{children:invoice.total_price-amountPaid})]})]}),/*#__PURE__*/_jsx(\"tr\",{className:\"border-t-0 border-[0.2rem] border-khamco-secondary relative\",children:/*#__PURE__*/_jsx(\"td\",{className:\"text-center p-[0.5rem]\",children:/*#__PURE__*/_jsx(\"button\",{className:\"edit-btn w-full py-[1rem] px-[2rem]\",onClick:handleSubmit,children:loading?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner animate-spin\"}):/*#__PURE__*/_jsx(_Fragment,{children:\"Submit\"})})})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:deleteInvoice,children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-[red] py-[0.5rem] px-[1rem] fixed top-[50%] right-2 rounded-full text-[1.5rem] text-white hover:rotate-12 transition-all\",title:\"Delete this invoice\",children:loading?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner animate-spin\"}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash-can\"})})})})})]})}),/*#__PURE__*/_jsx(Footer,{})]});};export default NewInvoice;","map":{"version":3,"names":["React","useEffect","useRef","useState","Navbar","Link","useNavigate","useParams","Footer","useStoreState","axios","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NewInvoice","id","writingDirection","setWritingDirection","userLanguage","state","services","setServices","products","setProducts","customers","setCustomers","invoice","setInvoice","productChoice","setProductChoice","productQuantity","setProductQuantity","productPrice","setProductPrice","productAvailable","setProductAvailable","productQuantityRef","productChoiceRef","serviceChoice","setServiceChoice","serviceQuantity","setServiceQuantity","servicePrice","setServicePrice","serviceQuantityRef","serviceChoiceRef","dependentName","setDependentName","dependents","setDependents","dependentNameRef","customerName","setCustomerName","customerSurname","setCustomerSurname","customerPhone","setCustomerPhone","paymentType","setPaymentType","paymentStatus","setPaymentStatus","amountPaid","setAmountPaid","totalPrice","setTotalPrice","date","setDate","loading","setLoading","loadingData","setLoadingData","apiUrl","window","location","origin","includes","authKey","localStorage","getItem","navigate","document","title","determineWritingDirection","fetchData","response","get","concat","headers","Authorization","data","error","_error$response","_error$response$data","message","clearForm","current","value","label","removeProduct","productName","productId","delete","product_choice","_error$response2","_error$response2$data","addProduct","info","put","product_quantity","product_price","_error$response3","_error$response3$data","handleProductChange","e","selectedProductName","target","selectedProduct","find","product","name","price","quantity","handleServiceChange","selectedService","chosenService","service","handleCustomerChange","selectedCustomerName","selectedCustomer","customer","surname","phone","removeService","serviceId","_error$response4","_error$response4$data","addService","service_choice","service_quantity","service_price","_error$response5","_error$response5$data","removeDependent","dependentId","_error$response6","_error$response6$data","addDependent","dependent_name","_error$response7","_error$response7$data","deleteInvoice","preventDefault","success","_error$response8","_error$response8$data","handleSubmit","customer_name","customer_surname","customer_phone","payment_type","payment_status","amount_paid","total_price","_error$response9","_error$response9$data","console","children","className","dir","to","Array","fill","length","map","index","onClick","choice","_id","Intl","NumberFormat","format","onChange","ref","type","placeholder","toFixed","dependent","step","onSubmit"],"sources":["C:/Users/TawandaMsengezi/Documents/Upwork/Osama-Client/Khamco Shop/Shop-1/client/src/pages/invoices/NewInvoice.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport Navbar from \"../../components/Navbar\";\r\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\r\nimport Footer from \"../../components/Footer\";\r\nimport { useStoreState } from \"easy-peasy\";\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst NewInvoice = () => {\r\n  const { id } = useParams();\r\n  const [writingDirection, setWritingDirection] = useState(\"ltr\");\r\n  const userLanguage = useStoreState((state) => state.userLanguage);\r\n  // API Data\r\n  const [services, setServices] = useState([]);\r\n  const [products, setProducts] = useState([]);\r\n  const [customers, setCustomers] = useState([]);\r\n  const [invoice, setInvoice] = useState({});\r\n  // Product form fields\r\n  const [productChoice, setProductChoice] = useState(\"\");\r\n  const [productQuantity, setProductQuantity] = useState(0);\r\n  const [productPrice, setProductPrice] = useState(0);\r\n  const [productAvailable, setProductAvailable] = useState(0);\r\n  const productQuantityRef = useRef(null);\r\n  const productChoiceRef = useRef(null);\r\n\r\n  // Service form fields\r\n  const [serviceChoice, setServiceChoice] = useState(\"\");\r\n  const [serviceQuantity, setServiceQuantity] = useState(0);\r\n  const [servicePrice, setServicePrice] = useState(0);\r\n  const serviceQuantityRef = useRef(null);\r\n  const serviceChoiceRef = useRef(null);\r\n\r\n  // Dependent form fields\r\n  const [dependentName, setDependentName] = useState(\"\");\r\n  const [dependents, setDependents] = useState([]);\r\n  const dependentNameRef = useRef(null);\r\n\r\n  // Other form fields\r\n  const [customerName, setCustomerName] = useState(\"\");\r\n  const [customerSurname, setCustomerSurname] = useState(\"\");\r\n  const [customerPhone, setCustomerPhone] = useState(\"\");\r\n  const [paymentType, setPaymentType] = useState(\"\");\r\n  const [paymentStatus, setPaymentStatus] = useState(\"\");\r\n  const [amountPaid, setAmountPaid] = useState(null);\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  const [date, setDate] = useState(null);\r\n  // Dynamic values\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingData, setLoadingData] = useState(true);\r\n\r\n  const apiUrl = window.location.origin.includes(\"localhost\")\r\n    ? \"http://localhost:5000/invoices\"\r\n    : \"https://khamco-shop-backend.onrender.com/invoices\";\r\n  const authKey = localStorage.getItem(\"jwt\");\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    document.title = \"New Invoice - Khamco Shop\";\r\n\r\n    const determineWritingDirection = () => {\r\n      if (userLanguage === \"ar\" || userLanguage === \"ur\") {\r\n        setWritingDirection(\"rtl\");\r\n      }\r\n    };\r\n    determineWritingDirection();\r\n\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await axios.get(`${apiUrl}/new-invoice/data/${id}`, {\r\n          headers: { Authorization: `Bearer ${authKey}` },\r\n        });\r\n\r\n        setProducts(response.data.products);\r\n        setServices(response.data.services);\r\n        setCustomers(response.data.customers);\r\n        setInvoice(response.data.invoice);\r\n        setLoadingData(false);\r\n      } catch (error) {\r\n        toast.error(error.response?.data?.message || error.message);\r\n        setLoadingData(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [apiUrl, authKey, id, userLanguage]);\r\n\r\n  const clearForm = async () => {\r\n    // Product form fields\r\n    setProductChoice(\"\");\r\n    productChoiceRef.current.value = \"-- Select a product --\";\r\n    setProductQuantity(0);\r\n    setProductAvailable(0);\r\n    setProductPrice(0);\r\n    productQuantityRef.current.value = null;\r\n    // Service form fields\r\n    setServiceChoice(\"\");\r\n    serviceChoiceRef.current.value = \"-- Select a service --\";\r\n    setServiceQuantity(0);\r\n    setServicePrice(0);\r\n    serviceQuantityRef.current.value = null;\r\n    // Dependent form fields\r\n    setDependentName(\"\");\r\n    dependentNameRef.current.value = \"\";\r\n    dependentNameRef.current.label = \"-- Select a Dependent --\";\r\n    setTotalPrice(0);\r\n  };\r\n\r\n  const removeProduct = async (productName, productId) => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.delete(\r\n        `${apiUrl}/${id}/products/${productId}`,\r\n        {\r\n          data: { product_choice: productName },\r\n          headers: { Authorization: `Bearer ${authKey}` },\r\n        }\r\n      );\r\n      setInvoice(response.data.invoice);\r\n      setProducts(response.data.products);\r\n      setServices(response.data.services);\r\n      setLoading(false);\r\n      clearForm();\r\n    } catch (error) {\r\n      setLoading(false);\r\n      toast.error(error.response?.data?.message || error.message);\r\n    }\r\n  };\r\n\r\n  const addProduct = async () => {\r\n    setLoading(true);\r\n\r\n    if (!productQuantity || productQuantity <= 0) {\r\n      setLoading(false);\r\n      toast.info(\"Please enter a product quantity\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await axios.put(\r\n        `${apiUrl}/${id}/products`,\r\n        {\r\n          product_choice: productChoice,\r\n          product_quantity: productQuantity,\r\n          product_price: productPrice,\r\n        },\r\n        {\r\n          headers: { Authorization: `Bearer ${authKey}` },\r\n        }\r\n      );\r\n      setProducts(response.data.products);\r\n      setServices(response.data.services);\r\n      setInvoice(response.data.invoice);\r\n      setLoading(false);\r\n      clearForm();\r\n    } catch (error) {\r\n      setLoading(false);\r\n      toast.error(error.response?.data?.message || error.message);\r\n    }\r\n  };\r\n\r\n  const handleProductChange = (e) => {\r\n    const selectedProductName = e.target.value;\r\n\r\n    if (selectedProductName === \"-- Select a product --\") {\r\n      // Reset relevant states when the default option is selected\r\n      setProductChoice(\"\");\r\n      setTotalPrice(0 + servicePrice * serviceQuantity);\r\n      setProductAvailable(0);\r\n      setProductPrice(0);\r\n      return;\r\n    }\r\n\r\n    const selectedProduct = products.find(\r\n      (product) => product.name === selectedProductName\r\n    );\r\n\r\n    if (selectedProduct) {\r\n      setProductChoice(selectedProductName);\r\n      setTotalPrice(\r\n        0 +\r\n          selectedProduct.price * productQuantity +\r\n          servicePrice * serviceQuantity\r\n      );\r\n      setProductAvailable(selectedProduct.quantity);\r\n      setProductPrice(selectedProduct.price);\r\n    }\r\n  };\r\n\r\n  const handleServiceChange = (e) => {\r\n    const selectedService = e.target.value;\r\n\r\n    if (selectedService === \"-- Select a service --\") {\r\n      // Reset relevant states when the default option is selected\r\n      setServiceChoice(\"\");\r\n      setTotalPrice(0 + productPrice * productQuantity);\r\n      setServicePrice(0);\r\n      return;\r\n    }\r\n\r\n    const chosenService = services.find(\r\n      (service) => service.service === selectedService\r\n    );\r\n\r\n    if (selectedService) {\r\n      setServiceChoice(selectedService);\r\n      setTotalPrice(\r\n        0 +\r\n          chosenService.price * serviceQuantity +\r\n          productPrice * productQuantity\r\n      );\r\n      setServicePrice(chosenService.price);\r\n    }\r\n  };\r\n\r\n  const handleCustomerChange = (e) => {\r\n    const selectedCustomerName = e.target.value;\r\n    setCustomerName(selectedCustomerName);\r\n\r\n    const selectedCustomer = customers.find(\r\n      (customer) => customer.name === selectedCustomerName\r\n    );\r\n\r\n    if (selectedCustomer) {\r\n      setCustomerSurname(selectedCustomer.surname);\r\n      setCustomerPhone(selectedCustomer.phone);\r\n      setDependents(selectedCustomer.dependents);\r\n    }\r\n  };\r\n\r\n  const removeService = async (serviceId) => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.delete(\r\n        `${apiUrl}/${id}/services/${serviceId}`,\r\n        {\r\n          headers: { Authorization: `Bearer ${authKey}` },\r\n        }\r\n      );\r\n      setInvoice(response.data.invoice);\r\n      setProducts(response.data.products);\r\n      setServices(response.data.services);\r\n      clearForm();\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      toast.error(error.response?.data?.message || error.message);\r\n    }\r\n  };\r\n\r\n  const addService = async () => {\r\n    setLoading(true);\r\n\r\n    if (!serviceQuantity || serviceQuantity <= 0) {\r\n      setLoading(false);\r\n      toast.info(\"Service quantity is required\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await axios.put(\r\n        `${apiUrl}/${id}/services`,\r\n        {\r\n          service_choice: serviceChoice,\r\n          service_quantity: serviceQuantity,\r\n          service_price: servicePrice,\r\n        },\r\n        {\r\n          headers: { Authorization: `Bearer ${authKey}` },\r\n        }\r\n      );\r\n      setProducts(response.data.products);\r\n      setServices(response.data.services);\r\n      setInvoice(response.data.invoice);\r\n      clearForm();\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      toast.error(error.response?.data?.message || error.message);\r\n    }\r\n  };\r\n\r\n  const removeDependent = async (dependentId) => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.delete(\r\n        `${apiUrl}/${id}/dependents/${dependentId}`,\r\n        {\r\n          headers: { Authorization: `Bearer ${authKey}` },\r\n        }\r\n      );\r\n      setInvoice(response.data.invoice);\r\n      setProducts(response.data.products);\r\n      setServices(response.data.services);\r\n      setLoading(false);\r\n      clearForm();\r\n    } catch (error) {\r\n      setLoading(false);\r\n      toast.error(error.response?.data?.message || error.message);\r\n    }\r\n  };\r\n\r\n  const addDependent = async () => {\r\n    setLoading(true);\r\n\r\n    if (!dependentName) {\r\n      setLoading(false);\r\n      toast.info(\"Please select a dependent\");\r\n      return;\r\n    }\r\n\r\n    if (!customerName) {\r\n      setLoading(false);\r\n      toast.info(\"Please select a customer\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await axios.put(\r\n        `${apiUrl}/${id}/dependents`,\r\n        {\r\n          dependent_name: dependentName,\r\n        },\r\n        {\r\n          headers: { Authorization: `Bearer ${authKey}` },\r\n        }\r\n      );\r\n      setProducts(response.data.products);\r\n      setServices(response.data.services);\r\n      setInvoice(response.data.invoice);\r\n      setLoading(false);\r\n      clearForm();\r\n    } catch (error) {\r\n      setLoading(false);\r\n      toast.error(error.response?.data?.message || error.message);\r\n    }\r\n  };\r\n\r\n  const deleteInvoice = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    try {\r\n      const response = await axios.delete(`${apiUrl}/${id}`, {\r\n        headers: { Authorization: `Bearer ${authKey}` },\r\n      });\r\n      toast.success(response.data.message);\r\n      navigate(\"/invoices\");\r\n    } catch (error) {\r\n      setLoading(false);\r\n      toast.error(error.response?.data?.message || error.message);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    setLoading(true);\r\n\r\n    if (!amountPaid) {\r\n      setLoading(false);\r\n      toast.info(\"Please enter the amount paid\");\r\n      return;\r\n    }\r\n\r\n    if (!date) {\r\n      setLoading(false);\r\n      toast.info(\"Invoice date is required\");\r\n      return;\r\n    }\r\n\r\n    if (!customerName) {\r\n      setLoading(false);\r\n      toast.info(\"Please select a customer\");\r\n      return;\r\n    }\r\n\r\n    if (!paymentStatus) {\r\n      setLoading(false);\r\n      toast.info(\"Please select a payment status\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = axios.put(\r\n        `${apiUrl}/${id}`,\r\n        {\r\n          service_choice: serviceChoice,\r\n          service_quantity: serviceQuantity,\r\n          service_price: servicePrice,\r\n          product_choice: productChoice,\r\n          product_quantity: productQuantity,\r\n          product_price: productPrice,\r\n          dependent_name: dependentName,\r\n          customer_name: customerName,\r\n          customer_surname: customerSurname,\r\n          customer_phone: customerPhone,\r\n          payment_type: paymentType,\r\n          payment_status: paymentStatus,\r\n          amount_paid: amountPaid,\r\n          total_price: totalPrice,\r\n          date: date,\r\n        },\r\n        {\r\n          headers: { Authorization: `Bearer ${authKey}` },\r\n        }\r\n      );\r\n      setLoading(false);\r\n      toast.success(\"Invoice details saved\");\r\n      navigate(\"/invoices\");\r\n    } catch (error) {\r\n      setLoading(false);\r\n      console.error(\"Error:\", error.message);\r\n      toast.error(error.response?.data?.message || error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <main className=\"p-[4rem]\">\r\n        <section\r\n          className=\"khamco-wrapper font-minimoBold\"\r\n          dir={writingDirection}\r\n        >\r\n          <div className=\"utilities\">\r\n            <Link to=\"/invoices\">\r\n              <i className=\"fas fa-arrow-left\"></i> Invoices\r\n            </Link>\r\n          </div>\r\n          <h1 className=\"title\">New Invoice</h1>\r\n          <table className=\"w-full my-[2rem] m-auto border-collapse text-[1.2rem] overflow-auto\">\r\n            <thead className=\"text-khamco-primary font-bold\">\r\n              <tr className=\"border-t-0 border-[0.2rem] border-khamco-secondary relative\">\r\n                <td className=\"bg-[#ddd] text-center p-[0.5rem]\">Item</td>\r\n                <td className=\"bg-[#ddd] text-center p-[0.5rem]\">Quantity</td>\r\n                <td className=\"bg-[#ddd] text-center p-[0.5rem]\">\r\n                  Available{\" \"}\r\n                  <i\r\n                    className=\"fas fa-info-circle text-khamco-ribbon cursor-pointer hover:text-khamco-primary\"\r\n                    title=\"Total products available in the database\"\r\n                  ></i>\r\n                </td>\r\n                <td className=\"bg-[#ddd] text-center p-[0.5rem]\">Price/Unit</td>\r\n                <td className=\"bg-[#ddd] text-center p-[0.5rem]\">\r\n                  Total Price\r\n                </td>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {loadingData &&\r\n                new Array(3).fill(\r\n                  <tr className=\"border-khamco-secondary bg-[#999] animate-pulse h-[2.5rem]\">\r\n                    <td className=\"text-khamco-secondary\">Loading...</td>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td></td>\r\n                  </tr>\r\n                )}\r\n              {invoice.products && invoice.products.length > 0 ? (\r\n                invoice.products.map((product, index) => (\r\n                  <tr\r\n                    className=\"border-t-0 border-[0.2rem] border-khamco-secondary relative\"\r\n                    key={index}\r\n                  >\r\n                    <td className=\"text-center p-[0.5rem]\">\r\n                      <button\r\n                        className=\"remove-data\"\r\n                        onClick={() =>\r\n                          removeProduct(product.choice, product._id)\r\n                        }\r\n                        title=\"Remove this product\"\r\n                      >\r\n                        {loading ? (\r\n                          <i className=\"fas fa-spinner animate-spin\"></i>\r\n                        ) : (\r\n                          <>\r\n                            <i className=\"fas fa-minus\"></i>\r\n                          </>\r\n                        )}\r\n                      </button>\r\n                      <span className=\"p-[0.5rem] text-[1.2rem] text-center\">\r\n                        {product.choice}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"text-center p-[0.5rem]\">\r\n                      <span className=\"p-[0.5rem] text-[1.2rem] text-center\">\r\n                        {product.quantity}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"text-center p-[0.5rem]\">--</td>\r\n                    <td className=\"text-center p-[0.5rem]\">\r\n                      <span className=\"p-[0.5rem] text-[1.2rem] text-center\">\r\n                        {new Intl.NumberFormat(\"en-US\").format(product.price)}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"text-center p[0.5rem]\">\r\n                      {new Intl.NumberFormat(\"en-US\").format(\r\n                        product.total_price\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              ) : (\r\n                <tr>\r\n                  <td className=\"text-center my-[2rem] animate-pulse text-lg text-[orangered]\">\r\n                    No products yet...\r\n                  </td>\r\n                </tr>\r\n              )}\r\n\r\n              <tr className=\"border-t-0 border-[0.2rem] border-khamco-secondary\">\r\n                <td className=\"text-center p-[0.5rem]\">\r\n                  <button\r\n                    className=\"add-data\"\r\n                    onClick={addProduct}\r\n                    title=\"Add a product\"\r\n                  >\r\n                    {loading ? (\r\n                      <i className=\"fas fa-spinner animate-spin\"></i>\r\n                    ) : (\r\n                      <>\r\n                        <i className=\"fas fa-plus\"></i>\r\n                      </>\r\n                    )}\r\n                  </button>\r\n                  <select\r\n                    className=\"w-full p-[0.5rem] text-center text-[1.2rem] border border-black rounded-md\"\r\n                    onChange={handleProductChange}\r\n                    ref={productChoiceRef}\r\n                  >\r\n                    <option\r\n                      label=\"-- Select a product --\"\r\n                      value=\"-- Select a product --\"\r\n                    ></option>\r\n                    {products &&\r\n                      products.map((product, index) => (\r\n                        <option\r\n                          key={index}\r\n                          value={product.name}\r\n                          label={product.name}\r\n                        ></option>\r\n                      ))}\r\n                  </select>\r\n                </td>\r\n                <td className=\"text-center p-[0.5rem]\">\r\n                  <input\r\n                    type=\"number\"\r\n                    className=\"p-[0.5rem] text-[1.2rem] text-center border border-black rounded-md\"\r\n                    placeholder=\"Product quantity\"\r\n                    ref={productQuantityRef}\r\n                    onChange={(e) => {\r\n                      setProductQuantity(e.target.value);\r\n                      setTotalPrice(\r\n                        0 +\r\n                          productPrice * e.target.value +\r\n                          serviceQuantity * servicePrice\r\n                      );\r\n                    }}\r\n                  />\r\n                </td>\r\n                <td\r\n                  className={`text-center p-[0.5rem] ${\r\n                    productAvailable <= 0 && \"text-[red] animate-pulse\"\r\n                  }`}\r\n                >\r\n                  {productAvailable.toFixed(2)}\r\n                </td>\r\n                <td className=\"text-center p-[0.5rem]\">\r\n                  {new Intl.NumberFormat(\"en-US\").format(productPrice)}\r\n                </td>\r\n                <td className=\"text-center p-[0.5rem]\">\r\n                  {new Intl.NumberFormat(\"en-US\").format(\r\n                    productPrice * productQuantity\r\n                  )}\r\n                </td>\r\n              </tr>\r\n              {loadingData &&\r\n                new Array(3).fill(\r\n                  <tr className=\"border-khamco-secondary bg-[#999] animate-pulse h-[2.5rem]\">\r\n                    <td className=\"text-khamco-secondary\">Loading...</td>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td></td>\r\n                  </tr>\r\n                )}\r\n              {invoice.services && invoice.services.length > 0 ? (\r\n                invoice.services.map((service, index) => (\r\n                  <tr\r\n                    className=\"border-t-0 border-[0.2rem] border-khamco-secondary relative\"\r\n                    key={index}\r\n                  >\r\n                    <td className=\"text-center p-[0.5rem]\">\r\n                      <button\r\n                        className=\"remove-data\"\r\n                        onClick={() => removeService(service._id)}\r\n                        title=\"Remove this service\"\r\n                      >\r\n                        {loading ? (\r\n                          <i className=\"fas fa-spinner animate-spin\"></i>\r\n                        ) : (\r\n                          <>\r\n                            <i className=\"fas fa-minus\"></i>\r\n                          </>\r\n                        )}\r\n                      </button>\r\n                      <span className=\"p-[0.5rem] text-[1.2rem] text-center\">\r\n                        {service.choice}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"text-center p-[0.5rem]\">\r\n                      <span className=\"p-[0.5rem] text-[1.2rem] text-center\">\r\n                        {service.quantity}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"text-center p-[0.5rem]\"></td>\r\n                    <td className=\"text-center p-[0.5rem]\">\r\n                      <span className=\"p-[0.5rem] text-[1.2rem] text-center\">\r\n                        {service.price}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"text-center p-[0.5rem]\">\r\n                      {new Intl.NumberFormat(\"en-US\").format(\r\n                        service.total_price\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              ) : (\r\n                <tr>\r\n                  <td className=\"text-center my-[2rem] animate-pulse text-lg text-[orangered]\">\r\n                    No services yet...\r\n                  </td>\r\n                </tr>\r\n              )}\r\n              <tr className=\"border-t-0 border-[0.2rem] border-khamco-secondary relative\">\r\n                <td className=\"text-center p-[0.5rem]\">\r\n                  <button\r\n                    className=\"add-data\"\r\n                    onClick={addService}\r\n                    title=\"Add a service\"\r\n                  >\r\n                    {loading ? (\r\n                      <i className=\"fas fa-spinner animate-spin\"></i>\r\n                    ) : (\r\n                      <>\r\n                        <i className=\"fas fa-plus\"></i>\r\n                      </>\r\n                    )}\r\n                  </button>\r\n                  <select\r\n                    className=\"w-full p-[0.5rem] text-center text-[1.2rem] border border-black rounded-md\"\r\n                    onChange={handleServiceChange}\r\n                    ref={serviceChoiceRef}\r\n                  >\r\n                    <option\r\n                      label=\"-- Select a service --\"\r\n                      value=\"-- Select a service --\"\r\n                    ></option>\r\n                    {services &&\r\n                      services.map((service, index) => (\r\n                        <option\r\n                          key={index}\r\n                          value={service.service}\r\n                          label={service.service}\r\n                        ></option>\r\n                      ))}\r\n                  </select>\r\n                </td>\r\n                <td className=\"text-center p-[0.5rem]\">\r\n                  <input\r\n                    type=\"number\"\r\n                    className=\"p-[0.5rem] text-[1.2rem] text-center border border-black rounded-md\"\r\n                    placeholder=\"Service quantity\"\r\n                    ref={serviceQuantityRef}\r\n                    onChange={(e) => {\r\n                      setServiceQuantity(e.target.value);\r\n                      setTotalPrice(\r\n                        0 +\r\n                          servicePrice * e.target.value +\r\n                          productPrice * productQuantity\r\n                      );\r\n                    }}\r\n                  />\r\n                </td>\r\n                <td className=\"text-center p-[0.5rem]\"></td>\r\n                <td className=\"text-center p-[0.5rem]\">\r\n                  <span className=\"p-[0.5rem] text-[1.2rem] text-center\">\r\n                    {servicePrice}\r\n                  </span>\r\n                </td>\r\n                <td className=\"text-center p-[0.5rem]\">\r\n                  {new Intl.NumberFormat(\"en-US\").format(\r\n                    servicePrice * serviceQuantity\r\n                  )}\r\n                </td>\r\n              </tr>\r\n              <tr className=\"border-t-0 border-[0.2rem] border-khamco-secondary relative\">\r\n                <td className=\"text-center p-[0.5rem]\"></td>\r\n                <td className=\"text-center p-[0.5rem]\"></td>\r\n                <td className=\"text-center p-[0.5rem]\"></td>\r\n                <td className=\"text-center p-[0.5rem]\">\r\n                  <strong className=\"text-khamco-primary\">Total Invoice</strong>\r\n                </td>\r\n                <td>\r\n                  <span className=\"p-[0.5rem] text-[1.2rem] text-center\">\r\n                    {new Intl.NumberFormat(\"en-US\").format(\r\n                      invoice.total_price + totalPrice\r\n                    )}\r\n                  </span>\r\n                </td>\r\n              </tr>\r\n              <tr className=\"border-t-0 border-[0.2rem] border-khamco-secondary relative text-khamco-primary font-bold\">\r\n                <td className=\"text-center p-[0.5rem]\">Customer Details</td>\r\n              </tr>\r\n              {invoice.dependents && invoice.dependents.length > 0 ? (\r\n                invoice.dependents.map((dependent, index) => (\r\n                  <tr\r\n                    className=\"border-t-0 border-[0.2rem] border-khamco-secondary relative\"\r\n                    key={index}\r\n                  >\r\n                    <td className=\"text-center p-[0.5rem]\">\r\n                      <button\r\n                        className=\"remove-data\"\r\n                        onClick={() => removeDependent(dependent._id)}\r\n                        title=\"Remove this dependent\"\r\n                      >\r\n                        <i className=\"fas fa-minus\"></i>\r\n                      </button>\r\n                      <span className=\"p-[0.5rem] text-[1.2rem] text-center\">\r\n                        {dependent.customer_name}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"text-center p-[0.5rem]\"></td>\r\n                    <td className=\"text-center p-[0.5rem]\"></td>\r\n                    <td className=\"text-center p-[0.5rem]\"></td>\r\n                    <td className=\"text-center p-[0.5rem]\"></td>\r\n                  </tr>\r\n                ))\r\n              ) : (\r\n                <tr>\r\n                  <td className=\"text-center my-[2rem] animate-pulse text-lg text-[orangered]\">\r\n                    No dependents selected...\r\n                  </td>\r\n                </tr>\r\n              )}\r\n              <tr className=\"border-t-0 border-[0.2rem] border-khamco-secondary relative\">\r\n                <td className=\"text-center p-[0.5rem]\">\r\n                  <select\r\n                    className=\"w-full p-[0.5rem] text-center text-[1.2rem] border border-black rounded-md\"\r\n                    onChange={handleCustomerChange}\r\n                  >\r\n                    <option label=\"-- Select a Customer --\"></option>\r\n                    {customers &&\r\n                      customers.map((customer, index) => (\r\n                        <option key={index} value={customer.name}>\r\n                          {`${customer.name} ${customer.surname}`}\r\n                        </option>\r\n                      ))}\r\n                  </select>\r\n                </td>\r\n                <td className=\"text-center p-[0.5rem]\"></td>\r\n                <td className=\"text-center p-[0.5rem]\"></td>\r\n                <td className=\"text-center p-[0.5rem]\"></td>\r\n                <td className=\"text-center p-[0.5rem]\"></td>\r\n              </tr>\r\n              <tr className=\"border-t-0 border-[0.2rem] border-khamco-secondary relative\">\r\n                <td className=\"text-center p-[0.5rem]\">\r\n                  <button\r\n                    className=\"add-data\"\r\n                    onClick={addDependent}\r\n                    title=\"Add a dependent\"\r\n                  >\r\n                    {loading ? (\r\n                      <i className=\"fas fa-spinner animate-spin\"></i>\r\n                    ) : (\r\n                      <>\r\n                        <i className=\"fas fa-plus\"></i>\r\n                      </>\r\n                    )}\r\n                  </button>\r\n                  <select\r\n                    className=\"w-full p-[0.5rem] text-center text-[1.2rem] border border-black rounded-md\"\r\n                    onChange={(e) => setDependentName(e.target.value)}\r\n                    ref={dependentNameRef}\r\n                  >\r\n                    <option label=\"-- Select a Dependent --\" value=\"\"></option>\r\n                    {dependents &&\r\n                      dependents.length > 0 &&\r\n                      dependents.map((dependent, index) => (\r\n                        <option\r\n                          key={index}\r\n                          value={`${dependent.name} ${dependent.surname}`}\r\n                          label={`${dependent.name} ${dependent.surname}`}\r\n                        ></option>\r\n                      ))}\r\n                  </select>\r\n                </td>\r\n                <td className=\"text-center p-[0.5rem]\"></td>\r\n                <td className=\"text-center p-[0.5rem]\"></td>\r\n                <td className=\"text-center p-[0.5rem]\"></td>\r\n                <td className=\"text-center p-[0.5rem]\"></td>\r\n              </tr>\r\n              <tr className=\"border-t-0 border-[0.2rem] border-khamco-secondary relative\">\r\n                <td className=\"p-[0.5rem] text-[1.2rem] text-center\">\r\n                  Surname: {customerSurname || \"--\"}\r\n                </td>\r\n                <td className=\"p-[0.5rem] text-[1.2rem] text-center\">\r\n                  Phone: {customerPhone || \"--\"}\r\n                </td>\r\n              </tr>\r\n              <tr className=\"border-t-0 border-[0.2rem] border-khamco-secondary\">\r\n                <td className=\"text-center p-[0.5rem] text-khamco-primary font-bold\">\r\n                  Payment Details\r\n                </td>\r\n              </tr>\r\n              <tr className=\"border-t-0 border-[0.2rem] border-khamco-secondary relative\">\r\n                <td className=\"text-center p-[0.5rem]\">\r\n                  <input\r\n                    type=\"number\"\r\n                    step=\"0.01\"\r\n                    placeholder=\"Amount Paid\"\r\n                    className=\"w-full p-[0.5rem] text-[1.2rem] text-center border border-black rounded-md\"\r\n                    onChange={(e) => setAmountPaid(e.target.value)}\r\n                  />\r\n                </td>\r\n                <td className=\"text-center p-[0.5rem]\">\r\n                  <select\r\n                    name=\"payment_type\"\r\n                    onChange={(e) => setPaymentType(e.target.value)}\r\n                    className=\"w-full p-[0.5rem] text-[1.2rem] text-center border border-black rounded-md\"\r\n                  >\r\n                    <option label=\"-- Payment Type --\" value={null}></option>\r\n                    <option value=\"K-Net\">K-Net</option>\r\n                    <option value=\"Cash\">Cash</option>\r\n                    <option value=\"Other\">Other</option>\r\n                  </select>\r\n                </td>\r\n                <td className=\"text-center p-[0.5rem]\">\r\n                  <select\r\n                    className=\"w-full p-[0.5rem] text-[1.2rem] text-center border border-black rounded-md\"\r\n                    onChange={(e) => setPaymentStatus(e.target.value)}\r\n                  >\r\n                    <option label=\"-- Payment status --\" value={null}></option>\r\n                    <option value=\"Unpaid\">Unpaid</option>\r\n                    <option value=\"Partially Paid\">Partially Paid</option>\r\n                    <option value=\"Paid\">Paid</option>\r\n                    <option value=\"Other\">Other</option>\r\n                  </select>\r\n                </td>\r\n                <td className=\"text-center p-[0.5rem]\">\r\n                  <input\r\n                    type=\"date\"\r\n                    className=\"uppercase w-full p-[0.5rem] text-[1.2rem] text-center border border-black rounded-md\"\r\n                    onChange={(e) => setDate(e.target.value)}\r\n                  />\r\n                </td>\r\n              </tr>\r\n              <tr className=\"border-t-0 border-[0.2rem] border-khamco-secondary\">\r\n                <td className=\"text-center p-[0.5rem] text-khamco-primary font-bold\">\r\n                  Company\r\n                </td>\r\n                <td className=\"text-center p-[0.5rem]\">Khamco</td>\r\n                <td></td>\r\n                {invoice.total_price && (\r\n                  <>\r\n                    <td className=\"text-center p-[0.5rem] text-khamco-primary font-bold\">\r\n                      Balance\r\n                    </td>\r\n                    <td>{invoice.total_price - amountPaid}</td>\r\n                  </>\r\n                )}\r\n              </tr>\r\n              <tr className=\"border-t-0 border-[0.2rem] border-khamco-secondary relative\">\r\n                <td className=\"text-center p-[0.5rem]\">\r\n                  <button\r\n                    className=\"edit-btn w-full py-[1rem] px-[2rem]\"\r\n                    onClick={handleSubmit}\r\n                  >\r\n                    {loading ? (\r\n                      <i className=\"fas fa-spinner animate-spin\"></i>\r\n                    ) : (\r\n                      <>Submit</>\r\n                    )}\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <div className=\"row\">\r\n            <form onSubmit={deleteInvoice}>\r\n              <button\r\n                type=\"submit\"\r\n                className=\"bg-[red] py-[0.5rem] px-[1rem] fixed top-[50%] right-2 rounded-full text-[1.5rem] text-white hover:rotate-12 transition-all\"\r\n                title=\"Delete this invoice\"\r\n              >\r\n                {loading ? (\r\n                  <i className=\"fas fa-spinner animate-spin\"></i>\r\n                ) : (\r\n                  <>\r\n                    <i className=\"fas fa-trash-can\"></i>\r\n                  </>\r\n                )}\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </section>\r\n      </main>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NewInvoice;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
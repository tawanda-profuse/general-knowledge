{"ast":null,"code":"import Navbar from\"../../components/Navbar\";import AdminPanel from\"../../components/AdminPanel\";import{useEffect,useState}from\"react\";import Footer from\"../../components/Footer\";import{Link,useNavigate,useParams}from\"react-router-dom\";import axios from\"axios\";import{toast}from\"react-toastify\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AdminTailorDetails=()=>{const{id}=useParams();const[user,setUser]=useState(null);const apiUrl=window.location.origin.includes(\"localhost\")?\"http://localhost:5000/admin\":\"https://khamco-shop-backend.onrender.com/admin\";const[isLoading,setIsLoading]=useState(true);const[display,setDisplay]=useState(false);const navigate=useNavigate();const authKey=localStorage.getItem(\"jwt\");useEffect(()=>{let isMounted=true;const getUserDetails=async()=>{await axios.get(\"\".concat(apiUrl,\"/users/\").concat(id),{headers:{Authorization:\"Bearer \".concat(authKey)}}).then(response=>{if(isMounted){setUser(response.data.user);document.title=\"Admin Tailor Details - \".concat(\"\".concat(response.data.user.name,\" -\"),\" Khamco Shop\");setIsLoading(false);setDisplay(true);}}).catch(error=>{if(isMounted){setIsLoading(true);setDisplay(false);if(error.response.status===403){toast.warn(\"You are not authorized to access that page\");navigate(\"/\");}else{var _error$response,_error$response$data;toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||error.message);}}return;});};getUserDetails();return()=>{isMounted=false;};},[apiUrl,authKey,id,navigate,user]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(AdminPanel,{}),/*#__PURE__*/_jsxs(\"section\",{className:\"customer-details\",children:[isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-1 gap-[4rem] justify-center items-center w-[70vw] m-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-[100vh] w-2/4 m-auto rounded-[2rem] bg-[#ccc] animate-pulse\"})}),display&&user&&/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-1 gap-[4rem] justify-center items-center w-[70vw] m-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"khamco-card w-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"utilities\",children:/*#__PURE__*/_jsx(Link,{to:\"/users/edit-user/\".concat(user._id),className:\"edit-btn\",children:\"Edit\"})}),/*#__PURE__*/_jsxs(\"h1\",{className:\"title\",children:[\"User Details \",user.name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-[1rem]\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex justify-start gap-[2rem] text-balance\",children:[/*#__PURE__*/_jsx(\"strong\",{className:\"capitalize\",children:\"ID\"}),/*#__PURE__*/_jsx(\"p\",{className:\"capitalize\",children:user._id})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex justify-start gap-[2rem] text-balance\",children:[/*#__PURE__*/_jsx(\"strong\",{className:\"capitalize\",children:\"Name\"}),/*#__PURE__*/_jsx(\"p\",{className:\"capitalize\",children:user.name})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex justify-start gap-[2rem] text-balance\",children:[/*#__PURE__*/_jsx(\"strong\",{className:\"capitalize\",children:\"Surname\"}),/*#__PURE__*/_jsx(\"p\",{className:\"capitalize\",children:user.surname})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex justify-start gap-[2rem] text-balance\",children:[/*#__PURE__*/_jsx(\"strong\",{className:\"capitalize\",children:\"Role\"}),/*#__PURE__*/_jsx(\"p\",{className:\"capitalize\",children:user.role})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex justify-start gap-[2rem] text-balance\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Language\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"capitalize\",children:[user.language===\"en\"&&\"English\",user.language===\"ur\"&&\"Urdu\",user.language===\"ar\"&&\"Arabic\",user.language===\"hi\"&&\"Hindi\"]})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex justify-start gap-[2rem] text-balance\",children:[/*#__PURE__*/_jsx(\"strong\",{className:\"capitalize\",children:\"Date Created\"}),/*#__PURE__*/_jsx(\"p\",{className:\"capitalize\",children:new Date(user.date).toLocaleDateString(\"en-us\",{month:\"long\",year:\"numeric\",day:\"numeric\"})})]})]})]})})]})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default AdminTailorDetails;","map":{"version":3,"names":["Navbar","AdminPanel","useEffect","useState","Footer","Link","useNavigate","useParams","axios","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminTailorDetails","id","user","setUser","apiUrl","window","location","origin","includes","isLoading","setIsLoading","display","setDisplay","navigate","authKey","localStorage","getItem","isMounted","getUserDetails","get","concat","headers","Authorization","then","response","data","document","title","name","catch","error","status","warn","_error$response","_error$response$data","message","children","className","to","_id","surname","role","language","Date","date","toLocaleDateString","month","year","day"],"sources":["C:/Users/TawandaMsengezi/Documents/Upwork/Osama-Client/Khamco Shop/Shop-1/client/src/pages/admin/AdminTailorDetails.jsx"],"sourcesContent":["import Navbar from \"../../components/Navbar\";\r\nimport AdminPanel from \"../../components/AdminPanel\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Footer from \"../../components/Footer\";\r\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst AdminTailorDetails = () => {\r\n  const { id } = useParams();\r\n  const [user, setUser] = useState(null);\r\n  const apiUrl = window.location.origin.includes(\"localhost\")\r\n    ? `http://localhost:5000/admin`\r\n    : `https://khamco-shop-backend.onrender.com/admin`;\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [display, setDisplay] = useState(false);\r\n  const navigate = useNavigate();\r\n  const authKey = localStorage.getItem(\"jwt\");\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n\r\n    const getUserDetails = async () => {\r\n      await axios\r\n        .get(`${apiUrl}/users/${id}`, {\r\n          headers: { Authorization: `Bearer ${authKey}` },\r\n        })\r\n        .then((response) => {\r\n          if (isMounted) {\r\n            setUser(response.data.user);\r\n            document.title = `Admin Tailor Details - ${`${response.data.user.name} -`} Khamco Shop`;\r\n            setIsLoading(false);\r\n            setDisplay(true);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          if (isMounted) {\r\n            setIsLoading(true);\r\n            setDisplay(false);\r\n            if (error.response.status === 403) {\r\n              toast.warn(\"You are not authorized to access that page\");\r\n              navigate(\"/\");\r\n            } else {\r\n              toast.error(error.response?.data?.message || error.message);\r\n            }\r\n          }\r\n          return;\r\n        });\r\n    };\r\n\r\n    getUserDetails();\r\n\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, [apiUrl, authKey, id, navigate, user]);\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <main>\r\n        <AdminPanel />\r\n        <section className=\"customer-details\">\r\n          {isLoading && (\r\n            <div className=\"grid md:grid-cols-1 gap-[4rem] justify-center items-center w-[70vw] m-auto\">\r\n              <div className=\"h-[100vh] w-2/4 m-auto rounded-[2rem] bg-[#ccc] animate-pulse\"></div>\r\n            </div>\r\n          )}\r\n          {display && user && (\r\n            <div className=\"grid md:grid-cols-1 gap-[4rem] justify-center items-center w-[70vw] m-auto\">\r\n              <div className=\"khamco-card w-full\">\r\n                <div className=\"utilities\">\r\n                  <Link\r\n                    to={`/users/edit-user/${user._id}`}\r\n                    className=\"edit-btn\"\r\n                  >\r\n                    Edit\r\n                  </Link>\r\n                </div>\r\n                <h1 className=\"title\">User Details {user.name}</h1>\r\n                <div className=\"flex flex-col gap-[1rem]\">\r\n                  <span className=\"inline-flex justify-start gap-[2rem] text-balance\">\r\n                    <strong className=\"capitalize\">ID</strong>\r\n                    <p className=\"capitalize\">{user._id}</p>\r\n                  </span>\r\n                  <span className=\"inline-flex justify-start gap-[2rem] text-balance\">\r\n                    <strong className=\"capitalize\">Name</strong>\r\n                    <p className=\"capitalize\">{user.name}</p>\r\n                  </span>\r\n                  <span className=\"inline-flex justify-start gap-[2rem] text-balance\">\r\n                    <strong className=\"capitalize\">Surname</strong>\r\n                    <p className=\"capitalize\">{user.surname}</p>\r\n                  </span>\r\n                  <span className=\"inline-flex justify-start gap-[2rem] text-balance\">\r\n                    <strong className=\"capitalize\">Role</strong>\r\n                    <p className=\"capitalize\">{user.role}</p>\r\n                  </span>\r\n                  <span className=\"inline-flex justify-start gap-[2rem] text-balance\">\r\n                    <strong>Language</strong>\r\n                    <p className=\"capitalize\">\r\n                      {user.language === \"en\" && \"English\"}\r\n                      {user.language === \"ur\" && \"Urdu\"}\r\n                      {user.language === \"ar\" && \"Arabic\"}\r\n                      {user.language === \"hi\" && \"Hindi\"}\r\n                    </p>\r\n                  </span>\r\n                  <span className=\"inline-flex justify-start gap-[2rem] text-balance\">\r\n                    <strong className=\"capitalize\">Date Created</strong>\r\n                    <p className=\"capitalize\">\r\n                      {new Date(user.date).toLocaleDateString(\"en-us\", {\r\n                        month: \"long\",\r\n                        year: \"numeric\",\r\n                        day: \"numeric\",\r\n                      })}\r\n                    </p>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </section>\r\n      </main>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AdminTailorDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
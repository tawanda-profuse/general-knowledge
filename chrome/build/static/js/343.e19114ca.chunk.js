"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[343],{343:(e,t,r)=>{r.r(t),r.d(t,{Question:()=>u,default:()=>d});var a=r(43),s=r(745),o=r(213),n=r(475),l=r(401),c=r(294),i=r(579);const u=e=>{let{index:t,questionData:r,updateQuestion:a,removeQuestion:s}=e;const{question:o,picture:n,answers:l}=r;return(0,i.jsxs)("div",{className:"flex flex-col gap-[1rem] py-[0.5rem] border-b-2 border-black md:border-none",children:[(0,i.jsxs)("div",{className:"flex justify-start gap-[2rem] flex-wrap",children:[(0,i.jsxs)("h3",{className:"text-[2rem]",children:["Question ",t+1]})," ",t>0&&(0,i.jsx)("button",{className:"px-[1rem] bg-[black] text-white rounded-md transition-all duration-150 hover:scale-[1.1]",type:"button",onClick:()=>s(t),children:"Remove Question"})]}),(0,i.jsx)("input",{type:"text",value:o,onChange:e=>{a(t,{...r,question:e.target.value})},placeholder:"Enter the question",className:"text-[1.2rem] outline-none rounded-md border-2 border-[black] p-[0.5rem] focus:border-[#440066]"}),(0,i.jsx)("input",{type:"text",value:n,onChange:e=>{a(t,{...r,picture:e.target.value})},placeholder:"Paste an image URL for a hint of the answer (optional)",className:"text-[1.2rem] outline-none rounded-md border-2 border-[black] p-[0.5rem] focus:border-[#440066]"}),l.map(((e,s)=>(0,i.jsxs)("div",{className:"flex items-center justify-between w-full flex-wrap gap-[1rem] md:gap-0 py-[0.5rem]",children:[(0,i.jsx)("input",{type:"text",value:e.text,onChange:e=>((e,s)=>{const o=l.map(((t,r)=>r===e?{...t,text:s}:t));a(t,{...r,answers:o})})(s,e.target.value),placeholder:"Multiple choice answer ".concat(s+1),className:"text-[1.2rem] outline-none rounded-md border-2 border-[black] p-[0.5rem] focus:border-[#440066] w-full md:w-2/4"}),(0,i.jsxs)("div",{className:"flex gap-[1rem] p-[0.5rem] rounded-lg ".concat(e.correct?"bg-[lawngreen]":"bg-[tomato]"),children:[(0,i.jsx)("label",{className:"font-bold",children:e.correct?"Correct":"Incorrect"}),(0,i.jsx)("input",{type:"checkbox",value:e.text,onChange:o=>((e,s)=>{const o=l.map(((t,r)=>r===e?{...t,correct:s}:t));a(t,{...r,answers:o})})(s,!e.correct),className:"w-[2rem] focus:accent-[#440066] cursor-pointer"})]}),(0,i.jsx)("button",{onClick:()=>(e=>{let s=[];s=l.some((t=>t.text===e))?l.filter((t=>t.text!==e)):l.map((e=>e)),a(t,{...r,answers:s})})(e.text),className:"w-[2rem] bg-[red] rounded-full transition-all duration-150 hover:scale-[1.1]",type:"button",children:(0,i.jsx)("img",{src:c.A,alt:""})})]},s))),(0,i.jsx)("button",{type:"button",onClick:()=>{a(t,{...r,answers:[...l,{text:"",correct:!1}]})},className:"self-start bg-[lawngreen] p-[0.5rem] text-[1rem] rounded-md hover:opacity-80",children:"Add Answer"})]})},d=()=>{const e=window.location.origin.includes("localhost")?"http://localhost:8000":"https://general-knowledge-eta.vercel.app",[t,r]=(0,a.useState)(""),[c,d]=(0,a.useState)([{question:"",picture:"",answers:[]}]),[m,x]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1),[w,b]=(0,a.useState)(!1);(0,a.useEffect)((()=>{console.log(c.length)}),[c.length]);const f=(e,t)=>{const r=c.map(((r,a)=>a===e?t:r));d(r)},g=e=>{const t=c.filter(((t,r)=>e!==r));d(t)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.A,{}),!h&&(0,i.jsxs)("form",{className:"m-auto w-[90vw] md:w-2/4 bg-[white] rounded-lg p-[1rem] overflow-y-scroll h-[80vh] flex flex-col gap-[2rem] absolute top-2/4 left-2/4 -translate-x-2/4 -translate-y-2/4",children:[(0,i.jsx)("h1",{className:"text-center underline text-[2rem]",children:"Create a Quiz"}),(0,i.jsx)("input",{type:"text",onChange:e=>r(e.target.value),placeholder:"Enter the quiz category",className:"text-[1.2rem] outline-none rounded-md border-2 border-[black] p-[0.5rem] focus:border-[#440066]"}),(0,i.jsx)("h2",{className:"text-center underline text-[2rem]",children:"Quiz Questions"}),c.map(((e,t)=>(0,i.jsx)(u,{index:t,questionData:e,updateQuestion:f,removeQuestion:g},t))),(0,i.jsxs)("button",{type:"button",onClick:()=>{d([...c,{question:"",picture:"",answers:[]}])},className:"bg-[tomato] text-[white] p-[0.5rem] text-[1rem] rounded-md hover:opacity-80",children:["Add a Question ",(0,i.jsx)("i",{className:"fas fa-plus"})]}),(0,i.jsx)("button",{type:"button",onClick:()=>b(!0),className:"bg-[#440066] ".concat(m?"animate-pulse":""," p-[0.5rem] text-[1rem] text-[white] rounded-md hover:opacity-80"),disabled:m,children:m?"Loading...":"Submit"})]}),(0,i.jsxs)("div",{className:"m-auto w-[90vw] md:w-2/4 bg-[white] rounded-lg p-[1rem] overflow-y-scroll h-[60vh] ".concat(h?"flex":"hidden"," flex-col items-center gap-[2rem] absolute top-2/4 left-2/4 -translate-x-2/4 -translate-y-2/4 transition-all"),children:[(0,i.jsx)("h1",{className:"text-[#440066] font-bold text-[3rem] text-center",children:"Thank you!"}),(0,i.jsxs)("p",{className:"text-pretty",children:["Your quiz has been submitted successfully! Wait for a short while as it is being reviewed after which it will be available from the list of quizzes in the side menu. Contact Tawanda via"," ",(0,i.jsx)("a",{href:"mailto:tawandamsengezi@gmail.com",className:"text-[purple] hover:underline italic",children:"tawandamsengezi@gmail.com"})," ","to have your quiz reviewed sooner."]}),(0,i.jsx)(n.N_,{to:"/",className:"btn text-center",children:"Okay"})]}),w&&!h&&(0,i.jsxs)("div",{className:"m-auto w-[90vw] md:w-2/4 bg-[skyblue] rounded-lg p-[1rem] px-[2rem] md:px-0 overflow-y-scroll flex flex-col gap-[2rem] absolute top-2/4 left-2/4 -translate-x-2/4 -translate-y-2/4",children:[(0,i.jsx)("h1",{className:"text-center underline text-[2rem]",children:"Are you sure you want submit your quiz?"}),(0,i.jsxs)("div",{className:"flex flex-col md:flex-row mt-[4rem] justify-center gap-[1rem]",children:[(0,i.jsx)("button",{onClick:async()=>{if(x(!0),!t)return l.oR.warn("Please enter a quiz category"),void x(!1);if(c.length<2)return l.oR.warn("Every quiz should have at least 2 questions"),void x(!1);if(c.some((e=>!e.question)))return l.oR.warn("Every question should have some text"),void x(!1);if(c.some((e=>e.answers.length<2)))return l.oR.warn("Every question should have at least 2 answers"),void x(!1);if(c.some((e=>e.answers.every((e=>!e.correct)))))return l.oR.warn("Every question should have 1 correct answer"),void x(!1);if(c.some((e=>e.answers.every((e=>e.correct)))))return l.oR.warn("Question answers cannot all be correct"),void x(!1);try{const r=await o.A.post(e+"/quiz",{category:t,quiz:c});console.log({category:t,quiz:c}),l.oR.success(r.data.message),p(!0)}catch(s){var r,a;console.error("Error: ",s),l.oR.error((null===(r=s.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||s.message)}finally{x(!1)}},className:"bg-[lawngreen] w-full md:w-1/4 p-[0.5rem] text-[1.2rem] rounded-md hover:opacity-80",children:"Yes"}),(0,i.jsx)("button",{onClick:()=>b(!1),className:"bg-[tomato] w-full md:w-1/4 p-[0.5rem] text-[1.2rem] rounded-md hover:opacity-80",children:"Not yet"})]})]})]})}}}]);
//# sourceMappingURL=343.e19114ca.chunk.js.map
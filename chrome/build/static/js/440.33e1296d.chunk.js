"use strict";(self.webpackChunkchrome_extension=self.webpackChunkchrome_extension||[]).push([[440],{440:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var r=s(43),n=s(213),l=s(401),a=s(216),c=s(579);const o=()=>{var e,t,s,o,d,i,m,x;const{category:h}=(0,a.g)(),u="https://general-knowledge-eta.vercel.app",[p,b]=(0,r.useState)(!1),[j,g]=(0,r.useState)(!0),[f,v]=(0,r.useState)([]),[w,N]=(0,r.useState)(0),[y,q]=(0,r.useState)(!1),[z,k]=(0,r.useState)(0),[S,C]=(0,r.useState)(!0),[Q,E]=(0,r.useState)(15),F=(0,a.Zp)(),R=(0,a.zy)(),Y=(0,r.useRef)(R.pathname);(0,r.useEffect)((()=>{(async()=>{await n.A.get("".concat(u,"/").concat(h)).then((e=>{document.title="QuizVibe - ".concat(e.data.questions[0].category," Quiz"),v(e.data.questions)})).catch((e=>{var t;F("/"),console.error("Error: ",e),l.oR.error((null===(t=e.response.data)||void 0===t?void 0:t.message)||e.message)})).finally((()=>{C(!1)}))})()}),[u,h,F]),(0,r.useEffect)((()=>{Y.current!==R.pathname&&window.location.reload(),Y.current=R.pathname}),[R.pathname]);const A=(0,r.useCallback)(((e,t)=>{N((e=>e+1)),E(15),e&&k((e=>e+1)),w===t-1&&g(!0)}),[w]);return(0,r.useEffect)((()=>{Q<0&&(A(!1,f[0].quiz.length),E(15))}),[f,Q,w,A]),(0,c.jsxs)(c.Fragment,{children:[S&&(0,c.jsx)("div",{className:"absolute left-2/4 top-2/4 -translate-x-2/4 -translate-y-2/4 w-[90%] max-w-[90%] md:w-[800px] md:max-w-[80%] h-[50vh] bg-[#999] animate-pulse rounded-[5px] p-[10px] shadow-md"}),!S&&(0,c.jsxs)("div",{className:"absolute left-2/4 top-2/4 -translate-x-2/4 -translate-y-2/4 w-[90%] max-w-[90%] md:w-[800px] md:max-w-[80%] bg-[white] rounded-[5px] p-[10px] shadow-md min-h-[50vh] max-h-[80vh] overflow-auto",children:[p&&(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{children:[f[0].quiz.length>0&&(0,c.jsx)(c.Fragment,{children:w<f[0].quiz.length&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between my-[1rem] px-[1rem] gap-[1rem]",children:[(0,c.jsxs)("h3",{className:"font-bold text-lg",children:["Question ",w+1," of"," ",f[0].quiz.length]}),(0,c.jsxs)("span",{className:"py-[0.5rem] px-[20px] ".concat(Q<=3?"bg-[red]":"bg-[green]"," text-white text-[1.2rem] font-bold font-mono"),children:[Q<10?"0":"",Q]}),y&&(0,c.jsx)("button",{id:"next-btn",className:"text-[1.5rem] font-bold py-[10px] px-[20px] cursor-pointer btn",onClick:()=>A(!1,f[0].quiz.length),children:"Next"}),(0,c.jsx)("div",{className:" bg-[yellow] text-[black] py-[0.5rem] px-[1rem] rounded-md ".concat(j?"block":"hidden"),children:(0,c.jsx)("h4",{children:"Your score: ".concat(z).concat(w>=f[0].quiz.length?"/".concat(f[0].quiz.length):"")})})]}),(0,c.jsx)("div",{children:(0,c.jsx)("h1",{children:null===(e=f[0].quiz[w])||void 0===e?void 0:e.question})}),(0,c.jsx)("br",{}),(0,c.jsx)("div",{className:"question-picture",children:(0,c.jsx)("img",{lazy:!0,className:"w-full md:w-[20rem] h-[12rem]",alt:null===(t=f[0].quiz[w])||void 0===t?void 0:t.category,src:null===(s=f[0].quiz[w])||void 0===s?void 0:s.picture})}),(0,c.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-[10px] my-[20px] mx-0",children:null===(o=f[0].quiz[w])||void 0===o||null===(d=o.answers)||void 0===d?void 0:d.map(((e,t)=>(0,c.jsx)("button",{className:"btn",onClick:()=>A(e.correct,f[0].quiz.length),children:e.text},t)))})]})}),w>=f[0].quiz.length&&(0,c.jsxs)("div",{className:"flex flex-col items-center gap-[2rem] my-[4rem]",children:[(0,c.jsx)("h1",{className:"text-[#440066] font-bold text-[3rem]",children:"Complete!"}),(0,c.jsx)("div",{className:" bg-[yellow] text-[black] py-[0.5rem] px-[1rem] rounded-md ".concat(j?"block":"hidden"),children:(0,c.jsx)("h4",{children:"Your score: ".concat(z).concat(w>=f[0].quiz.length?"/".concat(f[0].quiz.length):"")})}),(0,c.jsx)("button",{onClick:()=>window.location.reload(),className:"text-[1.5rem] font-bold py-[10px] px-[20px] cursor-pointer btn",children:"Retry"}),(0,c.jsxs)("table",{className:"w-[90%] md:w-3/4",children:[(0,c.jsx)("caption",{className:"font-bold text-[purple] mb-[1rem]",children:"How well did you do?"}),(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{className:"border border-[black] p-[0.1rem]",children:"Number"}),(0,c.jsx)("th",{className:"border border-[black] p-[0.1rem]",children:"Question"}),(0,c.jsx)("th",{className:"border border-[black] p-[0.1rem]",children:"Answer"})]})}),(0,c.jsx)("tbody",{children:null===(i=f[0])||void 0===i||null===(m=i.quiz)||void 0===m?void 0:m.map(((e,t)=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{className:"border border-[black] p-[0.1rem] text-center",children:t+1}),(0,c.jsx)("td",{className:"border border-[black] p-[0.1rem]",children:e.question}),(0,c.jsx)("td",{className:"border border-[black] p-[0.1rem] text-center",children:e.answers.find((e=>e.correct)).text})]},t)))})]})]})]})}),!p&&(0,c.jsxs)("div",{className:"flex flex-col items-center gap-[1rem] my-[2rem]",children:[(0,c.jsxs)("h1",{className:"text-[#440066] font-bold text-[3rem] underline text-center md:text-balance",children:[null===(x=f[0])||void 0===x?void 0:x.category," Quiz"]}),(0,c.jsxs)("p",{className:"text-center md:text-balance my-[1rem] font-mono",children:["You've got 15 seconds per question. Press"," ",(0,c.jsx)("q",{children:(0,c.jsx)("span",{className:"font-bold",children:"start"})})," ","when you are ready."]})]}),(0,c.jsx)("div",{className:"flex justify-center items-center",children:!p&&(0,c.jsx)("button",{onClick:()=>{b(!0),q(!0),N(0),Q<0?E(15):setInterval((()=>{E((e=>e-1))}),1e3)},className:"text-[1.5rem] font-bold py-[10px] px-[20px] cursor-pointer btn",children:"Start"})})]})]})}}}]);
//# sourceMappingURL=440.33e1296d.chunk.js.map